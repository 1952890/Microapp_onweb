{"version":3,"sources":["webpack:///0ca3c51e678a18c36e72.worker.js","webpack:///webpack/bootstrap 0ca3c51e678a18c36e72","webpack:///./app.js","webpack:///../src/h.js","webpack:///../src/util.js","webpack:///../src/clone-element.js","webpack:///../src/linked-state.js","webpack:///../src/render-queue.js","webpack:///../src/vdom/functional-component.js","webpack:///../src/vdom/index.js","webpack:///../src/dom/index.js","webpack:///../src/dom/recycler.js","webpack:///../src/vdom/diff.js","webpack:///../src/vdom/component-recycler.js","webpack:///../src/vdom/component.js","webpack:///../src/component.js","webpack:///../src/constants.js","webpack:///../src/render.js","webpack:///./components/app.js","webpack:///./components/item.js","webpack:///./renderer/oneworker.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","init","app","jsxroot","_preact","render","h","default","document","body","root","global","factory","this","VNode","nodeName","attributes","children","key","lastSimple","child","simple","i","arguments","length","stack","push","pop","Array","String","EMPTY_CHILDREN","options","vnode","extend","obj","props","clone","delve","split","isFunction","isString","hashToClassName","str","prop","cloneElement","slice","createLinkedState","component","eventPath","path","e","t","target","state","v","type","match","checked","value","setState","enqueueRender","_dirty","items","rerender","list","renderComponent","isFunctionalComponent","prototype","buildFunctionalComponent","context","getNodeProps","EMPTY","isSameNodeType","node","Text","_componentConstructor","isNamedNode","normalizedNodeName","toLowerCase","defaultProps","removeNode","parentNode","removeChild","setAccessor","name","old","isSvg","style","cssText","NON_DIMENSION_PROPS","innerHTML","__html","l","_listeners","substring","addEventListener","eventProxy","NON_BUBBLING_EVENTS","removeEventListener","setProperty","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","event","collectNode","Element","_component","_name","nodes","createNode","flushMounts","mounts","afterMount","componentDidMount","diff","dom","mountAll","parent","componentRoot","diffLevel","isSvgMode","ownerSVGElement","hydrating","ATTR_KEY","ret","idiff","appendChild","ref","nodeValue","recollectNodeTree","createTextNode","buildComponentFromVNode","out","vchildren","firstChild","replaceChild","fc","a","nextSibling","innerDiffNode","dangerouslySetInnerHTML","diffAttributes","prevSvgMode","absorb","j","vchild","vlen","len","_child","originalChildren","__key","keyedLen","keyed","childrenLen","min","undefined","insertBefore","unmountOnly","unmountComponent","lastChild","attrs","collectComponent","constructor","components","createComponent","Ctor","inst","Component","nextBase","splice","setComponentProps","opts","_disable","__ref","base","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","skip","rendered","cbase","previousProps","previousState","prevState","isUpdate","initialBase","initialChildComponent","previousContext","shouldComponentUpdate","componentWillUpdate","getChildContext","toUnmount","childComponent","childProps","_parentComponent","baseParent","componentRef","unshift","componentDidUpdate","afterUpdate","fn","cb","_renderCallbacks","originalComponent","oldDom","isDirectOwner","isOwner","remove","beforeUnmount","componentWillUnmount","inner","componentDidUnmount","merge","lcCache","s","resolved","Promise","resolve","defer","f","then","setTimeout","Symbol","for","boxFlex","boxFlexGroup","columnCount","fillOpacity","flex","flexGrow","flexPositive","flexShrink","flexNegative","fontWeight","lineClamp","lineHeight","opacity","order","orphans","strokeOpacity","widows","zIndex","zoom","blur","error","focus","load","resize","scroll","linkState","_linkedStates","callback","forceUpdate","_interopRequireDefault","__esModule","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","Object","create","enumerable","writable","configurable","setPrototypeOf","__proto__","createNamesAndUnread","getNames","unread","Math","max","random","_item","_item2","RENDER_EPOCH","NAMES","App","_Component","_temp","_this","_ret","_len","args","_key","apply","concat","explainWebWorker","message","replace","trim","closeMessage","next","started","Date","now","elapsed","_ref","class","onClick","explainWorkerDelay","dark","map","item","Item","toggle","console","log","selected","_ref2","startDate","getNode","_typeof","__id","NODES","get","handleEvent","bubbles","dispatchEvent","sanitize","isArray","defaultView","Node","COUNTER","set","hasOwnProperty","PROP_BLACKLIST","indexOf","childNodes","send","postMessage","JSON","parse","stringify","iterator","_undom","Error","code","_undom2","url","_current","href","pathname","search","hash","TO_SANITIZE","Map","MutationObserver","mutations","mutation","observe","subtree","data"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,IAGAV,EAAA,KDMM,SAAUI,EAAQD,EAASH,GAEhC,YE1CD,SAASW,KACR,GAAIC,GAAMZ,EAAQ,EAClBa,IAAU,EAAAC,EAAAC,SAAO,EAAAD,EAAAE,GAAEJ,EAAIK,SAAWL,GAAMM,SAASC,KAAMC,MANxDpB,EAAA,EACA,IAAAc,GAAAd,EAAA,GAEIa,QAQJF,MFqDM,SAAUP,EAAQD,EAASH,IAE/B,SAASqB,EAAQC,GACNA,EAAQnB,IAClBoB,KAAM,SAASpB,GACb,QAASqB,GAAMC,EAAUC,EAAYC,GACjCJ,KAAKE,SAAWA,EAChBF,KAAKG,WAAaA,EAClBH,KAAKI,SAAWA,EAChBJ,KAAKK,IAAMF,GAAcA,EAAWE,IAExC,QAASZ,GAAES,EAAUC,GG1DnB,GAAWC,GACbE,EAAUC,EAAiBC,EAAQC,CAAG,KAAAA,EAAAC,UAACC,OAAAF,KAAA,GACpCG,EAAAC,KAAUH,UAAWD,GAM3B,KAJAN,KAAAC,WACaQ,EAAID,QAAWC,EAAAC,KAAUV,EAAAC,gBACrBD,GAAQC,UAEzBQ,EAAAD,QACM,IAAMJ,EAAQK,EAAAE,gBAAAC,OACP,IAAMN,EAAGF,EAAEI,OAAaF,KAAKG,EAAEC,KAAAN,EAAAE,QACf,OAAfF,GAAqBA,QAAeA,SAErB,gBAATA,KAAgBA,EAASS,OAAGT,IACpCC,EAAyB,gBAAVD,GACVC,GAAOF,EACTF,EAAYA,EAAAO,OAAA,IAAAJ,IAGrBH,WAAAS,KAAAN,GACUD,EAAaE,GHqDtB,IAAIrB,GAAI,GAAIc,GAAMC,EAAUC,GAAc,OAAQC,GAAYa,EAE9D,OADIC,GAAQC,OAAOD,EAAQC,MAAMhC,GAC1BA,EAEX,QAASiC,GAAOC,EAAKC,GI1FnB,GAASA,EACJ,OAAAb,KAAAa,GACID,EAAAZ,GAAKa,EAAAb,EACnB,OAAAY,GJ2FG,QAASE,GAAMF,GInFb,MAAeD,MAAKC,GJsFtB,QAASG,GAAMH,EAAKhB,GI9ElB,IAAS,GAAMlB,GAAKkB,EAAKoB,MAAA,KAAAhB,EAAA,EAAAA,EAAAtB,EAAAwB,QAAAU,EAAAZ,IACrBY,EAAKA,EAAAlC,EAAMsB,GAEpB,OAAAY,GJ+EG,QAASK,GAAWL,GIzElB,MAAS,kBAAgBA,GJ4E3B,QAASM,GAASN,GItEhB,MAAS,gBAAcA,GJyEzB,QAASO,GAAgB1C,GIjEvB,GAAS2C,GAAA,EACR,KAAK,GAACC,KAAA5C,GACAA,EAAI4C,KACHD,OAAA,KACAA,GAAQC,EAGrB,OAAAD,GJkEG,QAASE,GAAaZ,EAAOG,GKpH3B,MAAS7B,GAAA0B,EAAajB,SAAOkB,EAAOG,EAAAJ,EAAAhB,YAAAmB,GAAAZ,UAAAC,OAAA,KAAAqB,MAAAhD,KAAA0B,UAAA,GAAAS,EAAAf,ULuHtC,QAAS6B,GAAkBC,EAAW7B,EAAK8B,GACvC,GAAIC,GAAO/B,EAAIoB,MAAM,IACrB,OAAO,UAASY,GMnHT,INoHH,GAAIC,GAAID,GAAKA,EAAEE,QAAUvC,KAAMwC,KAAYnB,EAAMmB,EAAOC,EAAId,EAASQ,GAAaX,EAAMa,EAAGF,GAAaG,EAAEpC,SAAWoC,EAAEI,KAAKC,MAAM,YAAcL,EAAEM,QAAUN,EAAEO,MAAQR,EAAG5B,EAAI,EMpH1KA,EAAA2B,EAAkBzB,OAAS,EAAEF,IAC7BY,EAAMA,EAAIe,EAAC3B,MAAAY,EAAAe,EAAA3B,QAAAyB,EAAAM,MAAAJ,EAAA3B,QAEhBY,GAAKe,EAAC3B,IAAUgC,EACnBP,EAAKY,SAAAN,INsHR,QM9GOO,GAAeb,IACxBA,EAAAc,SAAAd,EAAAc,YAAA,GAAAC,EAAApC,KAAAqB,gCChBC,QAAQgB,KPiIH,GAAI/D,GO/HGgE,EAAAF,CAEb,KADGA,KACK9D,EAAAgE,EAAArC,OACT3B,EAAA6D,QAAAI,EAAAjE,GPgIG,QAASkE,GAAsBlC,GAC3B,GAAIjB,GAAWiB,GAASA,EAAMjB,QAC9B,OAAOA,IAAYwB,EAAWxB,MAAeA,EAASoD,WAAapD,EAASoD,UAAU9D,QAE1F,QQlIG+D,GAAuBpC,EAAaqC,GAC3C,MAAArC,GAAAjB,SAAAuD,EAAAtC,GAAAqC,GAAAE,GRoII,QAASC,GAAeC,EAAMzC,GAC1B,MAAIQ,GAASR,GAAeyC,YAAgBC,MACxClC,EAASR,EAAMjB,WAAmB0D,EAAKE,uBAAyBC,EAAYH,EAAMzC,EAAMjB,UACxFwB,EAAWP,EAAMjB,WS5Id0D,EAAeE,uBAAaF,EAAAE,wBAAA3C,EAAAjB,UAAAmD,EAAAlC,UT8IvC,QS1IQ4C,GAAOH,EAAW1D,GT2ItB,MS1IM0D,GAAAI,qBAAyB9D,GAAY+D,EAAYL,EAAQ1D,YAAE+D,EAAA/D,GT4IrE,QAASuD,GAAatC,GAClB,GAAIG,GAAQC,EAAMJ,EAAMhB,WACxBmB,GAAMlB,SAAWe,EAAMf,QACvB,IAAI8D,GAAe/C,EAAMjB,SAASgE,YAClC,IAAIA,EAAc,IAAK,GAAIzD,KAAKyD,GAAkB,SAAW5C,EAAMb,KS5H5Da,EAAab,GAAOyD,EAAAzD,GAK/B,OAAAa,GAKF,QAAA6C,GAAAP,GACD,GAAAzE,GAAAyE,EAAAQ,UTsHWjF,IAAGA,EAAEkF,YAAYT,GAEzB,QAASU,GAAYV,EAAMW,EAAMC,EAAK3B,EAAO4B,GU9I3C,GV+IM,cAAgBF,IAAMA,EAAO,SAC7B,UAAYA,GAAQ1B,GAAS,gBAAmBA,KAAOA,EAAQjB,EAAgBiB,IUhJhE,QAAZ0B,OAEJ,IAAa,UAAbA,GAAoBE,EAEpB,GAAgB,UAATF,GAIP,KAHF1B,GAAgBlB,EAAOkB,IAAAlB,EAAA6C,MAC/BZ,EAAAc,MAAAC,QAAA9B,GAAA,IAEeA,GAAE,gBAAAA,GAAA,CV4IF,IAAKlB,EAAS6C,GUzId,IAAO,GAAK/D,KAAK+D,GACH/D,IAAAoC,KAAAe,EAAAc,MAAAjE,GAAA,GAIjB,KAAU,GAAAA,KAASoC,GAC9Be,EAAAc,MAAAjE,GAAA,gBAAAoC,GAAApC,IAAAmE,EAAAnE,GAAAoC,EAAApC,GAAAoC,EAAApC,GAAA,UAGe,IAAG,4BAAA8D,EAAa1B,IAAQe,EAAKiB,UAAchC,EAAAiC,QAAA,iBAAAP,EAAA,SAAAA,EAAA,IACzD,GAAAQ,GAAAnB,EAAAoB,aAAApB,EAAAoB,cACST,GAASN,EAAEM,EAAAU,UAAA,IAGrBpC,EAEckC,EAAAR,IAAAX,EAAAsB,iBAA2BX,EAAAY,IAAAC,EAAAb,IAC1BQ,EAASR,IAEVX,EAAEyB,oBAAmBd,EAAEY,IAAAC,EAAAb,IAE/BQ,EAAAR,GAAgB1B,MVgIT,IAAI,SAAW0B,GAAQ,SAAWA,IAASE,GAASF,IAAQX,GAC/D0B,EAAY1B,EAAMW,EAAM,MAAQ1B,EAAQ,GAAKA,GU9H7C,MAAAA,WAAAe,EAAA2B,gBAAAhB,OACI,CAEJ,GAAIiB,GAAGf,GAAAF,EAAA5B,MAAA,gBACQ,OAApBE,GAA0BA,OAC/B2C,EAAA5B,EAAA6B,kBAAA,+BAAAxB,EAAAuB,EAAA,KAAA5B,EAAA2B,gBAAAhB,GACe,gBAAA1B,IAAAnB,EAAAmB,KAED2C,EAAM5B,EAAI8B,eAAa,+BAA4BzB,EAAAuB,EAAA,IAAA3C,GAAAe,EAAA+B,aAAApB,EAAA1B,QAzCpC4B,mBVsK3B,QUlHMa,GAAK1B,EAAcW,EAAC1B,GAE5B,IACDe,EAAAW,GAAA1B,EACD,MAAAR,KVmHI,QU5GA8C,GAAA9C,GACE,MAAQrC,MAAKgF,WAAC3C,EAAAK,MAAAxB,EAAA0E,OAAA1E,EAAA0E,MAAAvD,OAQrB,QAASwD,GAAcjC,GVwGd,GUvGDO,EAAKP,GVuGAA,YAAgBkC,SAAS,CACzBlC,EAAKmC,WAAanC,EAAKE,sBAAwB,IWrM9C,IAAGkC,GAAApC,EAAAI,oBAAAC,EAAAL,EAAA1D,WXuMH+F,EAAMD,KAAWC,EAAMD,QAAcnF,KAAK+C,IAGnD,QWrMIsC,GAAYhG,EAASuE,GACvB,GAAAF,GAAUN,EAAQ/D,6GAGjB,OADF0D,GAAII,mBAAQO,EACJX,EXsMT,QAASuC,KAEL,IYpML,GAAAjH,GZoMYA,EAAIkH,EAAOtF,OACVI,EAAQmF,YAAYnF,EAAQmF,WAAWnH,GYlMxCA,EAAAoH,mBAAMpH,EAAAoH,oBZsMjB,QAASC,GAAKC,EAAKrF,EAAOqC,EAASiD,EAAUC,EAAQC,GAC5CC,MACDC,EAAYH,GAAU,SAAWA,EAAOI,gBACxCC,GAAYP,KAASQ,IAAYR,IYrLxC,IAAAS,GAAWC,EAAEV,EAAArF,EAAAqC,EAAAiD,EZ6LV,OALIC,IAAUO,EAAI7C,aAAesC,GAAQA,EAAOS,YAAYF,KYlLnEL,IZoLWG,IAAY,EACPJ,GAAeR,KAEjBc,EAEX,QYhLMC,GAAQV,EAACrF,EAAAqC,EAAAiD,GZkLX,IADA,GAAIW,GAAMjG,GAASA,EAAMhB,YAAcgB,EAAMhB,WAAWiH,IACjD/D,EAAsBlC,IY7K1BA,EAAAoC,EAAApC,EAAAqC,EASJ,IAJY,MAATrC,IAAeA,EAAA,IAIlBQ,EAAAR,GAcA,MAZNqF,gBAAA3C,OAAA2C,EAAApC,WZsKmBoC,EAAIa,WAAalG,IAAOqF,EAAIa,UAAYlG,IY9JzCqF,GAAEc,EAAAd,GZiKLA,EAAM7G,SAAS4H,eAAepG,IY7J9BqF,CAKV,IAAK9E,EAAAP,EAAiBjB,UACpB,MAASsH,GAAsBhB,EAAArF,EAAAqC,EAAAiD,EZ4J/B,IYzJGgB,GAACjB,EACXtG,EAAAc,OAAAG,EAAAjB,cAIGwH,EAAiBvG,EAAQf,QZsJrB,IYjJDyG,EAAM,QAAA3G,GAAA,kBAAAA,GAAA2G,EZiJAL,GAAiD,IAAKzC,EAAYyC,EAAKtG,GAAW,CYjItF,IZkIGuH,EAAMvB,EAAWhG,EAAU2G,GYlI7BL,EAAAmB,YAAiBF,EAASN,YAAEX,EAAAmB,WZoItBnB,GAAIpC,YAAYoC,EAAIpC,WAAWwD,aAAaH,EAAKjB,GACrDc,EAAkBd,QAJZiB,GAAMvB,EAAWhG,EAAU2G,EAMrC,IAAIgB,GAAKJ,EAAIE,WAAYrG,EAAQmG,EAAIT,EACrC,KAAK1F,EY1HM,CAClBmG,EAAAT,GAAA1F,IZ2HW,KAAK,GAAIwG,GAAIL,EAAItH,WAAYM,EAAIqH,EAAEnH,OAAQF,KYxH1Ca,EAAAwG,EAAUrH,GAAA8D,MAAAuD,EAAArH,GAAAoC,MZgIf,OY3HIkE,IAAAW,GAAA,IAAAA,EAAA/G,QAAA,gBAAA+G,GAAA,IAAAG,eAAAhE,QAAAgE,EAAAE,YACEF,EAAGR,WAAWK,EAAA,KAChBG,EAAIR,UAAYK,EAAI,KZqHbA,GAAaA,EAAU/G,QAAUkH,IAAIG,EAAcP,EAAKC,EAAWlE,EAASiD,IAAYnF,EAAM2G,yBY9G/GC,EAAAT,EAAAtG,EAAAhB,WAAAmB,GAGO8F,MACMA,IAAKA,GAAAK,GZ6GZZ,EAAYsB,EACLV,EAEX,QAASO,GAAcxB,EAAKkB,EAAWlE,EAASiD,EAAU2B,GACtD,GYtFJC,GACHnJ,EACKoJ,EACL/H,kDAJOgI,EAAAb,GAAmBA,EAAW/G,MAMlC,IAAG6H,EACN,IAAW,GAAI/H,GAAA,EAAAA,EAAA+H,EAAA/H,IAAA,CACR,GAAAgI,GAAaC,EAAgBjI,GACnCa,EAAAmH,EAAAzB,GAAG3G,EAAAkI,GAAArJ,EAAAuJ,EAAA1C,YAAA7G,EAAAyJ,MAAArH,IAAAjB,IAAA,SAAQ,OAAAA,GAAOuI,IZmFJC,EAAMxI,GAAOoI,IYjFpB1B,IAAAqB,GAAA9G,GAAAmH,YAAA5E,SACOzD,EAAO0I,KAAIL,GZmFnB,GY9EGF,EACF,IAAO,GAAA9H,GAAM,EAAAA,EAAA8H,EAAA9H,IAAA,CAEX6H,EAASZ,EAAUjH,GAClBF,EAAW,IAOZ,IAAAF,GAAaiI,EAAAjI,GACT,UAAAA,EZuEKuI,GAAYvI,IAAOwI,KACnBtI,EAAQsI,EAAMxI,GACdwI,EAAMxI,GAAO,OACbuI,SYlEH,KAAArI,GAAAwI,EAAAD,EACK,IAAIT,EAAKU,EAAEV,EAAAS,EAAAT,IAEN,GADJnJ,EAAAkB,EAAAiI,GACInJ,GAAAyE,EAAAzE,EAAAoJ,GAAA,CACZ/H,EAAArB,EACXkB,EAAAiI,GAAAW,OACDX,IAAAS,EAAA,GAAAA,IZoEqBT,IAAMU,GAAKA,GYlEV,OAMfxI,EAAG2G,EAAW3G,EAAI+H,EAAW9E,EAAGiD,GAE/BlG,OAAAiG,IACN/F,GAAA+H,EACDhC,EAAAW,YAAA5G,GACDA,IAAAmI,EAAAjI,KZ6DiBF,IAAUmI,EAAiBjI,EAAI,IAAI0D,EAAWuE,EAAiBjI,IACnE+F,EAAIyC,aAAa1I,EAAOmI,EAAiBjI,IAAM,QAGvD,GAAImI,EYrDP,OAAAnI,KAAAoI,GACGA,EAAapI,IAAO6G,EAAmBuB,EAAIpI,GZqD3C,MAAOsI,GAAOD,GY9ClBvI,EAAUH,EAAA0I,KACCvI,GAAK+G,EAAA/G,GAOnB,QAAA+G,GAAA1D,EAAAsF,GACD,GAAAhH,GAAA0B,EAAAmC,UZ4CQ,IAAI7D,EAAWiH,EAAiBjH,GAAYgH,OAAmB,CYpCxDtF,EAAAoD,IAAwBpD,EAAAoD,GAAaI,KAAAxD,EAAAoD,GAAAI,IAAA,MAErC8B,OAST,KZ4BM,GAAIhK,GY5BCA,EAAE0E,EAAAwF,WAAA9B,EAAApI,EAAAgK,IASlB,QAAAhB,GAAA1B,EAAA6C,EAAA7E,GZwBO,GAAID,EACJ,KAAKA,IAAQC,GAAW6E,GAAS9E,IAAQ8E,IAAU,MAAQ7E,EAAID,IAAOD,EAAYkC,EAAKjC,EAAMC,EAAID,GAAOC,EAAID,GAAQ,OAAQsC,EYbhI,IAAIwC,EACC,IAAO9E,IAAE8E,GACM,aAAR9E,GAAiC,cAAPA,GAASA,IAAAC,IAAA6E,EAAA9E,MAAA,UAAAA,GAAA,YAAAA,EAAAiC,EAAAjC,GAAAC,EAAAD,KAChCD,EAAUkC,EAAOjC,EAAIC,EAAKD,GAAGC,EAASD,GAAE8E,EAAW9E,GAAAsC,GZalE,QAASyC,GAAiBpH,GACtB,GAAIqC,GAAOrC,EAAUqH,YAAYhF,KAAMpB,EAAOqG,GAAWjF,EACrDpB,GAAMA,EAAKtC,KAAKqB,GAAiBsH,GAAWjF,IAAUrC,Ga9T7D,QAAAuH,GAAgBC,EAAApI,EAAAkC,GbiUb,GAAImG,GAAO,GAAID,GAAKpI,EAAOkC,Ga9TpBL,EAAAqG,GAAiBE,EAASnF,KAExC,IADGqF,EAAO5K,KAAU2K,EAAArI,EAAYkC,GACzBL,EACE,IAAK,GAAK1C,GAAA0C,EAASxC,OACxBF,KACL,GAAA0C,EAAA1C,GAAA8I,cAAAG,EAAA,Cb4TYC,EAAKE,SAAW1G,EAAK1C,GAAGoJ,SazTrB1G,EAAgB2G,OAAMrJ,EAAA,EAClB,OAIb,MAAMkJ,Gb0TR,QAASI,GAAkB7H,EAAWZ,EAAO0I,EAAMxG,EAASiD,GACnDvE,EAAU+H,WACX/H,EAAU+H,UAAW,GACjB/H,EAAUgI,MAAQ5I,EAAM8F,YAAY9F,GAAM8F,KAC1ClF,EAAUyG,MAAQrH,EAAMjB,YAAYiB,GAAMjB,KACzC6B,EAAUiI,MAAQ1D,EcnUpBvE,EAAiBkI,oBAAmBlI,EAAMkI,qBAC3ClI,EAAUmI,2BACdnI,EAAWmI,0BAAK/I,EAAAkC,GAGrBA,GAAkBA,IAAYtB,EAAOsB,UdkUrBtB,EAAUoI,cAAapI,EAAUoI,YAAcpI,EAAUsB,SchUzEtB,EAAcsB,QAAYA,GAIpBtB,EAAAqI,YAAArI,EAA+BqI,UAAWrI,EAAAZ,OACpDY,EAAAZ,QAEGY,EAAW+H,YAEG,IAAPD,IACV,IAAAA,GAAA9I,EAAAsJ,2BAAAtI,EAAAiI,KAGcpH,EAASb,GAHvBiI,UAOOjI,EAAGgI,OAAWhI,EAAAgI,MAAAhI,IdyTlB,QAASkB,GAAgBlB,EAAW8H,EAAMvD,EAAUgE,GAChD,IAAKvI,EAAU+H,SAAU,CACrB,GAAIS,GAAMC,EcjSdhB,EACPiB,kCAPcC,EAAgB3I,EAAWqI,WAAcjJ,EACpDwJ,EAAoB5I,EAAO6I,WAAAvI,qBAEvBwI,EAAA9I,EAAAiI,KAAEN,EAAQ3H,EAAA2H,SACZoB,EAAaD,GAAKnB,EAClBqB,EAAkBhJ,EAAA6D,Ud8SZ,IczSXiF,IACA9I,EAAWZ,MAAUuJ,EACrB3I,EAAcM,MAAQsI,EACtB5I,EAAAsB,QAAwB2H,EACpB,IAAAnB,GAAA9H,EAAAkJ,uBAAAlJ,EAAAkJ,sBAAA9J,EAAAkB,EAAAgB,QAAOkH,KAACxI,EAAAmJ,qBAAAnJ,EAAAmJ,oBAAA/J,EAAAkB,EAAAgB,GAIFtB,EAAQZ,QACRY,EAAQM,QACRN,EAAUsB,WAKnBtB,EACQqI,UAAUrI,EAAA6I,UAAqB7I,EAAAoI,YAAApI,EAAA2H,SAAA,KdwR7B3H,EcvRAc,WAED0H,EAAK,CAQL,IAPAxI,EAAc1C,SAAAmL,EAAAzI,EAAA1C,OAAA8B,EAAAkB,EAAAgB,IduRLtB,EAAUoJ,kBcnRpB9H,EAAYpC,EAAUG,EAAAiC,GAAYtB,EAAUoJ,oBAG3CjI,EAAAsH,IACIA,EAAQpH,EAA4BoH,EAAOnH,EAGrD,IACO+H,GACVpB,EAFaqB,EAAiBb,KAAAzK,QAIxB,IAAAwB,EAAA8J,GAAiC,Cd4QrB,GAAIC,GAAahI,EAAakH,EcxQ7ChB,GAAiBuB,EACLvB,GAACA,EAAAJ,cAAAiC,GAAAC,EAAApL,KAAAsJ,EAAAhB,kBd0QM4C,EAAY5B,EcrQjBA,EAAAF,EAAuB+B,EAAAC,EAAAjI,GACjCmG,EAAAE,SAAsBF,EAAAE,YduQPF,EAAK+B,iBAAmBxJ,EcrQ7BA,EAAA6D,WAAc4D,EduQTI,EctQaJ,EAAE8B,EAAa,EAAAjI,GAE7CJ,EAAAuG,EAAA,EAAAlD,OAGG0D,EAAAR,EAAgBQ,SAElBS,GAAAK,EdqQYM,EclQKL,EACtBK,0BAKON,GAAY,IAAAjB,Kd+PMY,IAAOA,EAAM7E,WAAa,MAC9BoE,EAAO5D,EAAKqE,EAAOD,EAAUnH,EAASiD,IAAauE,EAAUC,GAAeA,EAAY7G,YAAY,Gc1PzH,IAAA6G,GAAAd,IAAAc,GAAAtB,IAAAuB,EAAA,Cd8PiB,GAAIS,GAAaV,EAAY7G,Uc5PhCuH,IAAWxB,IAAWwB,IACpBA,EAAW/D,aAAQuC,EAAAc,GAEnCM,IACDN,EAAAlF,WAAA,Kd6P0BuB,EAAkB2D,KclP3C,GdsPiBM,Gc1PZpC,EAAWoC,EAAApB,IAAAc,GAGf/I,EAAAiI,OACDA,IAAAM,EAAA,CAGW,IAFZ,GAAAmB,GAAA1J,MAEcI,IAAAoJ,mBACGE,EAAetJ,GAAA6H,KAAGA,CduPjBA,GAAKpE,WAAa6F,EcpPvBzB,EAAGrG,sBAAK8H,EAAArC,cAIZyB,GAAGvE,EACVL,EAAYyF,QAAU3J,GACvBwI,IACIxI,EAAa4J,oBACb5J,EAAA4J,mBAAqCjB,EAAYC,EAAAK,GAEvDjK,EAAA6K,aAAA7K,EAAA6K,YAAA7J,GAGM,IAEE8J,GAFDC,EAAQ/J,EAAUgK,gBAGrB,IAAAD,EAAU,KAAAD,EAAAC,EAAAnL,OAAoBkL,EAAAhN,KAAAkD,EAEjC0E,IAAA6D,GAAAtE,Kd+OE,QAASqB,GAAwBhB,EAAKrF,EAAOqC,EAASiD,GAElD,IADA,GAAIvH,GAAIsH,GAAOA,EAAIT,WAAYoG,EAAoBjN,EAAGkN,EAAS5F,EAAK6F,EAAgBnN,GAAKsH,EAAI1C,wBAA0B3C,EAAMjB,SAAUoM,EAAUD,EAAe/K,EAAQmC,EAAatC,GAC9KjC,IAAMoN,IAAYpN,EAAIA,EAAEwM,mBc/NxBY,EAAApN,EAAAqK,cAA6BpI,EAAOjB,QA4B5C,OAzBAhB,IAAMoN,KAAA7F,GAAAvH,EAAA6G,aACZgE,EAAyB7K,EAAAoC,EAAA,EAAAkC,EAAqBiD,GACvCD,EAAGtH,EAAAiL,OAEEgC,IAAgBE,IAChBlD,EAAcgD,MAC1B3F,EAAA4F,EAAA,Md+NWlN,EAAIuK,Ec5NatI,EAAAjB,SAAcoB,EAASkC,GACtCgD,IAAAtH,EAAA2K,WAET3K,EAAA2K,SAAArD,Ed4NW4F,Ec1NG,MAEjBrC,EAAA7K,EAAAoC,EAAA,EAAAkC,EAAAiD,Gd2NUD,EAAMtH,EAAEiL,KcxNLiC,GAAU5F,IAAA4F,IACVA,EAAIrG,WAAA,Kd0NHuB,EAAkB8E,KcrNpB5F,EASd,QAAA2C,GAAAjH,EAAAqK,GdkNYrL,EAAQsL,eAAetL,EAAQsL,cAActK,EACjD,IAAIiI,GAAOjI,EAAUiI,IACrBjI,GAAU+H,UAAW,Ec3Md/H,EAAAuK,sBAAkCvK,EAAEuK,uBd6M3CvK,EAAUiI,KAAO,IACjB,IAAIuC,GAAQxK,EAAU6D,UACtB,IczME2G,aAEI,IAAAvC,EAAA,CdwMEA,EAAKnD,IAAamD,EAAKnD,GAAUI,KAAK+C,EAAKnD,GAAUI,IAAI,MAC7DlF,EAAU2H,SAAWM,EcpMrBoC,IACDpI,EAAAgG,GdsMKb,EcrMgBpH,GdwMpB,KcrMF,GAAAhD,GdqMSA,EAAIiL,EAAKf,WAAW9B,EAAkBpI,GAAIqN,GAEjDrK,EclMOgI,OAAAhI,EAAAgI,MAAA,MdmMPhI,EclMOyK,qBAAWzK,EAAAyK,sBdoM1B,QAAS/C,GAAUtI,EAAOkC,GACtBxD,KAAKgD,QAAS,EetchBhD,KAASwD,QAAUA,EAEpBxD,KAAMsB,MAAQA,EfucNtB,KAAKwC,QAAOxC,KAAKwC,UAE1B,QAAShD,GAAO2B,EAAOuF,EAAQkG,GAC3B,MAAOrG,GAAKqG,EAAOzL,MAAW,EAAIuF,GAEtC,GAAIxF,MACAN,KACAK,KACA4L,KItaL5I,EAAa,SAAA6I,GACJ,MAAWD,GAAGC,KAAdD,EAAWC,GAAIA,EAAA7I,gBJyanB8I,EAAW,mBAAsBC,UAAWA,QAAQC,UInazDC,EAAWH,EAAO,SAAUI,GACnBJ,EAAQK,KAAQD,IJqapBE,WACA3J,KACAsD,EAAW,mBAAsBsG,QAASA,OAAOC,IAAI,cAAgB,gBgBtejE3I,GACA4I,QAAY,EAAIC,aAAC,EAAAC,YAAA,EAAAC,YAAA,EAAAC,KAAA,EAAAC,SAAA,EhB6erBC,aAAc,EACdC,WAAY,EACZC,aAAc,EACdC,WAAY,EACZC,UAAW,EACXC,WAAY,EgBhfRC,QAAW,EAAAC,MAAA,EAAAC,QAAA,EAAAC,cAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,KAAA,GhByfftJ,GACAuJ,KAAM,EACNC,MAAO,EACPC,MAAO,EACPC,KAAM,EACNC,OAAQ,EACRC,OAAQ,GMnfd/L,KNsfMgD,KWtfFG,KAGDQ,EAAA,EXsfGC,GAAY,EACZE,IAAY,EY9MlByC,KZgNEpI,GAAOwI,EAAUtG,WACb2L,UAAW,SAAS5O,EAAK8B,GACrB,GAAIjD,GAAIc,KAAKkP,gBAAkBlP,KAAKkP,iBACpC,OAAOhQ,GAAEmB,EAAM8B,KAAejD,EAAEmB,EAAM8B,GAAaF,EAAkBjC,KAAMK,EAAK8B,KAEpFW,SeldC,SAAMN,EAAA2M,GACN,GAAKrC,GAAA9M,KAAAwC,KACAxC,MAAA+K,YAAgB/K,KAAI+K,UAAWxJ,EAAGuL,IAC/C1L,EAAA0L,EAAApL,EAAAc,KAAAsK,EAAA9M,KAAAsB,OAAAkB,Gfmde2M,IAAWnP,KAAKkM,iBAAmBlM,KAAKkM,sBAAwBrL,KAAKsO,GACzEpM,EAAc/C,Oe3cnBoP,YAAI,WACNhM,EAAgBpD,KAAA,If+cbR,OAAQ,eAEZZ,EAAQa,EAAIA,EACZb,EAAQmD,aAAeA,EACvBnD,EAAQgL,UAAYA,EACpBhL,EAAQY,OAASA,EiBlhBfZ,EAASsE,SAAcA,EjBohBzBtE,EiBnhBGsC,QAAYA,KjByhBd,SAAUrC,EAAQD,EAASH,GAEhC,YAUA,SAAS4Q,GAAuBhO,GAAO,MAAOA,IAAOA,EAAIiO,WAAajO,GAAQ3B,QAAS2B,GAEvF,QAASkO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAM5Q,GAAQ,IAAK4Q,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO7Q,GAAyB,gBAATA,IAAqC,kBAATA,GAA8B4Q,EAAP5Q,EAElO,QAAS8Q,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASzM,UAAY2M,OAAOC,OAAOF,GAAcA,EAAW1M,WAAaiG,aAAe1G,MAAOkN,EAAUI,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeL,IAAYC,OAAOK,eAAiBL,OAAOK,eAAeP,EAAUC,GAAcD,EAASQ,UAAYP,GkBljBle,QAASQ,KAER,IAAK,GADDvN,MACKxC,EAAE,EAAGA,EAAE,GAAIA,IACnBwC,EAAMpC,MACL/B,GAAI2B,EACJ8D,KAASkM,IAAT,IAAuBA,IACvBC,OAAQC,KAAKC,IAAI,EAAiB,GAAdD,KAAKE,UAAY,KAGvC,OAAO5N,GlB2hBPrE,EAAQ0Q,YAAa,CkB/iBtB,IAAA/P,GAAAd,EAAA,GACAqS,EAAArS,EAAA,GlBojBKsS,EAAS1B,EAAuByB,GkBjjB/BE,EAAe,EAGfC,EAAQ,kMAAkMxP,MAAM,KAEhNgP,EAAW,iBAAMQ,GAAoB,MAAdN,KAAKE,SAAeI,EAAMtQ,OAAO,IAezCuQ,ElB6jBV,SAAUC,GAGnB,QAASD,KACR,GAAIE,GAAOC,EAAOC,CAElB/B,GAAgBvP,KAAMkR,EAEtB,KAAK,GAAIK,GAAO7Q,UAAUC,OAAQ6Q,EAAOzQ,MAAMwQ,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC5ED,EAAKC,GAAQ/Q,UAAU+Q,EAGxB,OAAeL,GAASC,EAAQ1B,EAA2B3P,KAAMmR,EAAWnS,KAAK0S,MAAMP,GAAanR,MAAM2R,OAAOH,KAAiBH,EkBxkBpI7O,OACCS,MAAOuN,KlBykBHa,EkBtkBLO,iBAAmB,WAClBP,EAAKvO,UACJ+O,QAAS,yDAEPC,QAAQ,OAAO,IAAIC,UlBskBlBV,EkBlkBLW,aAAe,WACdX,EAAKvO,UAAW+O,QAAS,QlBmkBrBR,EkB/jBLY,KAAO,WAEN,IAAK,GADDhP,GAAQoO,EAAK7O,MAAMS,MAAMjB,QACpBvB,EAAEuQ,EAAcvQ,KACxBwC,EAAM0N,KAAKE,SAAS5N,EAAMtC,OAAO,GAAG+P,QAErCW,GAAKvO,UAAWG,WlBkjBRqO,EAcJF,EAAQzB,EAA2B0B,EAAOC,GA+F9C,MAxHAxB,GAAUoB,EAAKC,GAgCfD,EAAI5N,UkBnkBLgD,kBlBmkBmC,WkBlkBlC+G,WAAWrN,KAAKiS,KAAM,MlBykBtBf,EAAI5N,UkBrkBL+H,oBlBqkBqC,WkBpkBpCrL,KAAKkS,QAAUC,KAAKC,OlB2kBpBlB,EAAI5N,UkBvkBLwI,mBlBukBoC,WkBtkBnC9L,KAAKqS,QAAUF,KAAKC,MAAMpS,KAAKkS,QAC/B7E,WAAWrN,KAAKiS,KAAM,MlB4kBtBf,EAAI5N,UkBzkBL9D,OlBykBwB,SkBzkBjB8B,ElBykBwCgR,GkBzkBb,GAAlBrP,GAAkBqP,EAAlBrP,MAAO4O,EAAWS,EAAXT,OACtB,QACC,EAAAtS,EAAAE,GAAA,OAAK8S,MAAM,QACV,EAAAhT,EAAAE,GAAA,OAAK8S,MAAM,4BACV,EAAAhT,EAAAE,GAAA,UAAQ8S,MAAM,sCAAsCC,QAASxS,KAAKyS,sBAClE,EAAAlT,EAAAE,GAAA,MAAI8S,MAAM,SAAV,SAGA,EAAAhT,EAAAE,GAAA,oBAAkBiT,MAAA,EAAKhO,MAAM,yBAG9B,EAAAnF,EAAAE,GAAA,OAAK8S,MAAM,uBACV,EAAAhT,EAAAE,GAAA,OAAK8S,MAAM,SACV,EAAAhT,EAAAE,GAAA,KAAG8S,MAAM,mCAAmChQ,OAAO,WAClD,EAAAhD,EAAAE,GAAA,sCACA,EAAAF,EAAAE,GAAA,KAAG8S,MAAM,iCAEV,EAAAhT,EAAAE,GAAA,OAAK8S,MAAM,uBACV,EAAAhT,EAAAE,GAAA,SAAO8S,MAAM,aACZ,EAAAhT,EAAAE,GAAA,SAAOiD,KAAK,WAAW5D,GAAG,aAF5B,kBAMA,EAAAS,EAAAE,GAAA,OAAK8S,MAAM,qBAAqBtP,EAAMtC,OAAtC,sBACEsC,EAAM0P,IAAK,SAAAC,GAAA,OACZ,EAAArT,EAAAE,GAACsR,EAAArR,QAASkT,QAKb,EAAArT,EAAAE,GAAA,OAAK8S,MAAO,UAAYV,EAAQ,QAAQ,IAAKW,QAASxS,KAAKgS,eAC1D,EAAAzS,EAAAE,GAAA,OAAK8S,MAAM,SACRV,GAAW,OlB4mBVX,GkBtrBwBtH,YlByrBhChL,GAAQc,QkBzrBYwR,GlB6rBf,SAAUrS,EAAQD,EAASH,GAEhC,YAMA,SAAS8Q,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAM5Q,GAAQ,IAAK4Q,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO7Q,GAAyB,gBAATA,IAAqC,kBAATA,GAA8B4Q,EAAP5Q,EAElO,QAAS8Q,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASzM,UAAY2M,OAAOC,OAAOF,GAAcA,EAAW1M,WAAaiG,aAAe1G,MAAOkN,EAAUI,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeL,IAAYC,OAAOK,eAAiBL,OAAOK,eAAeP,EAAUC,GAAcD,EAASQ,UAAYP,GARjepR,EAAQ0Q,YAAa,CmBztBtB,IAAA/P,GAAAd,EAAA,GAEqBoU,EnBiuBT,SAAU1B,GAGpB,QAAS0B,KACR,GAAIzB,GAAOC,EAAOC,CAElB/B,GAAgBvP,KAAM6S,EAEtB,KAAK,GAAItB,GAAO7Q,UAAUC,OAAQ6Q,EAAOzQ,MAAMwQ,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC5ED,EAAKC,GAAQ/Q,UAAU+Q,EAGxB,OAAeL,GAASC,EAAQ1B,EAA2B3P,KAAMmR,EAAWnS,KAAK0S,MAAMP,GAAanR,MAAM2R,OAAOH,KAAiBH,EmB5uBpIyB,OAAS,SAAAzQ,GACR0Q,QAAQC,IAAI,SAAU3Q,GACtBgP,EAAKvO,UAAWmQ,UAAW5B,EAAK7O,MAAMyQ,YnB0uB9B3B,EAGJF,EAAQzB,EAA2B0B,EAAOC,GAuB9C,MArCAxB,GAAU+C,EAAM1B,GAiBhB0B,EAAKvP,UmB7uBN9D,OnB6uByB,SAAgB8S,EAAMY,GmB3uB9C,IAFsC,GAA9B3O,GAA8B+N,EAA9B/N,KAAMmM,EAAwB4B,EAAxB5B,OAAYuC,EAAYC,EAAZD,SACtBE,EAAYhB,KAAKC,MACdD,KAAKC,MAAM,EAAIe,IACtB,OACC,EAAA5T,EAAAE,GAAA,OAAK8S,MAAO,uBAAyB7B,EAAO,mBAAmB,IAAK8B,QAASxS,KAAK8S,OAAQpO,MAAOuO,EAAW,mBAAqB,KAChI,EAAA1T,EAAAE,GAAA,KAAG8S,MAAO,SAAWU,EAAW,wBAA0B,oBACxD1O,EACAmM,GACD,EAAAnR,EAAAE,GAAA,QAAM8S,MAAM,4BAA4B7B,GACrC,OnBwvBCmC,GmBvwByBjJ,YnB0wBjChL,GAAQc,QmB1wBYmT,GnB8wBf,SAAUhU,EAAQD,EAASH,IAEJ,SAASqB,GAAS,YAQ9C,SAASuP,GAAuBhO,GAAO,MAAOA,IAAOA,EAAIiO,WAAajO,GAAQ3B,QAAS2B,GoBluBxF,QAAS+R,GAAQxP,GAChB,GAAI9E,SAGJ,OAFI8E,IAAsB,YAAd,mBAAOA,GAAP,YAAAyP,EAAOzP,MAAiB9E,EAAK8E,EAAK0P,MAC5B,gBAAP1P,KAAiB9E,EAAK8E,GAC5B9E,EACe,SAAhB8E,EAAK1D,SAA0BP,EAASC,KACrC2T,EAAMC,IAAI1U,GAFD,KAOjB,QAAS2U,GAAY7N,GACpB,GAAIrD,GAAS6Q,EAAQxN,EAAMrD,OACvBA,KACHqD,EAAMrD,OAASA,EACfqD,EAAM8N,SAAU,EAChBnR,EAAOoR,cAAc/N,IAQvB,QAASgO,GAASvS,GACjB,IAAKA,GAAoB,YAAb,mBAAOA,GAAP,YAAAgS,EAAOhS,IAAgB,MAAOA,EAE1C,IAAIN,MAAM8S,QAAQxS,GAAM,MAAOA,GAAIsR,IAAIiB,EAEvC,IAAIvS,YAAe1B,GAASmU,YAAYC,KAAM,CAC7C,GAAIjV,GAAKuC,EAAIiS,IACRxU,KACJA,EAAKuC,EAAIiS,KAAOtS,SAASgT,IAE1BT,EAAMU,IAAInV,EAAIuC,GAGf,GAAIoG,KACJ,KAAK,GAAIhH,KAAKY,GACTA,EAAI6S,eAAezT,IAAM0T,EAAeC,QAAQ3T,GAAG,IACtDgH,EAAIhH,GAAKY,EAAIZ,GAMf,OAHIgH,GAAI4M,YAAc5M,EAAI4M,WAAW1T,SACpC8G,EAAI4M,WAAaT,EAASnM,EAAI4M,aAExB5M,EAkBR,QAAS6M,GAAKzC,GACb0C,YAAYC,KAAKC,MAAMD,KAAKE,UAAU7C,KpB2pBtC,GAAIwB,GAA4B,kBAAX/F,SAAoD,gBAApBA,QAAOqH,SAAwB,SAAUtT,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXiM,SAAyBjM,EAAIkI,cAAgB+D,QAAUjM,IAAQiM,OAAOhK,UAAY,eAAkBjC,IoBpxBvQuT,EAAAnW,GAAA,cAAA4D,GAAA,GAAAwS,OAAA,mCAAAxS,GAAAyS,KAAA,mBAAAzS,MpBwxBK0S,EAAU1F,EAAuBuF,GoBpxBlCjV,EAAWG,EAAOH,UAAW,EAAAoV,EAAArV,UACjC,KAAK,GAAIe,KAAKd,GAASmU,YAAiBnU,EAASmU,YAAYI,eAAezT,KAC3EX,EAAOW,GAAKd,EAASmU,YAAYrT,GAKlC,IAAIuU,GAAM,IA6BNhB,IA1BHiB,SAAU,IACVC,GAAIA,QACH,MAAOF,IAERG,GAAIA,YACH,MAAOH,GAAIlD,QAAQ,uCAAuC,KAE3DsD,GAAIA,UACH,OAAQJ,EAAIrS,MAAM,yBAA2B,IAE9C0S,GAAIA,QACH,OAAQL,EAAIrS,MAAM,eAAiB,KAevB,GAGR2S,GAAe,aAAc,eAAgB,cAAe,kBAAmB,UAG/EnB,GAAkB,WAAY,aAAc,aAAc,aAAc,yBAGxEZ,EAAQ,GAAIgC,IA0DjB,IAAIC,kBAAkB,SAAAC,GACtB,IAAK,GAAIhV,GAAEgV,EAAU9U,OAAQF,KAE5B,IAAK,GADDiV,GAAWD,EAAUhV,GAChB4H,EAAEiN,EAAY3U,OAAQ0H,KAAO,CACrC,GAAIvG,GAAOwT,EAAYjN,EACvBqN,GAAS5T,GAAQ8R,EAAS8B,EAAS5T,IAGrCwS,GAAO5R,KAAK,iBAAkB+S,gBAC3BE,QAAQhW,GAAYiW,SAAQ,IAUhC1Q,iBAAiB,UAAW,SAAAoN,GAAc,GAAXuD,GAAWvD,EAAXuD,IAC9B,QAAQA,EAAKnT,MACZ,IAAK,OACJsS,EAAMa,EAAKb,GACX,MACD,KAAK,QACJvB,EAAYoC,EAAKjQ,YpBuxBU5G,KAAKJ,EAAU,WAAa,MAAOoB","file":"0ca3c51e678a18c36e72.worker.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(4);\n\t\n\tvar _preact = __webpack_require__(1);\n\t\n\tvar jsxroot = void 0;\n\tfunction init() {\n\t\tvar app = __webpack_require__(2);\n\t\tjsxroot = (0, _preact.render)((0, _preact.h)(app.default || app), document.body, root);\n\t}\n\t\n\tif (false) module.hot.accept(['./components/app'], init);\n\t\n\tinit();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t!function(global, factory) {\n\t     true ? factory(exports) : 'function' == typeof define && define.amd ? define([ 'exports' ], factory) : factory(global.preact = global.preact || {});\n\t}(this, function(exports) {\n\t    function VNode(nodeName, attributes, children) {\n\t        this.nodeName = nodeName;\n\t        this.attributes = attributes;\n\t        this.children = children;\n\t        this.key = attributes && attributes.key;\n\t    }\n\t    function h(nodeName, attributes) {\n\t        var children, lastSimple, child, simple, i;\n\t        for (i = arguments.length; i-- > 2; ) stack.push(arguments[i]);\n\t        if (attributes && attributes.children) {\n\t            if (!stack.length) stack.push(attributes.children);\n\t            delete attributes.children;\n\t        }\n\t        while (stack.length) if ((child = stack.pop()) instanceof Array) for (i = child.length; i--; ) stack.push(child[i]); else if (null != child && child !== !0 && child !== !1) {\n\t            if ('number' == typeof child) child = String(child);\n\t            simple = 'string' == typeof child;\n\t            if (simple && lastSimple) children[children.length - 1] += child; else {\n\t                (children || (children = [])).push(child);\n\t                lastSimple = simple;\n\t            }\n\t        }\n\t        var p = new VNode(nodeName, attributes || void 0, children || EMPTY_CHILDREN);\n\t        if (options.vnode) options.vnode(p);\n\t        return p;\n\t    }\n\t    function extend(obj, props) {\n\t        if (props) for (var i in props) obj[i] = props[i];\n\t        return obj;\n\t    }\n\t    function clone(obj) {\n\t        return extend({}, obj);\n\t    }\n\t    function delve(obj, key) {\n\t        for (var p = key.split('.'), i = 0; i < p.length && obj; i++) obj = obj[p[i]];\n\t        return obj;\n\t    }\n\t    function isFunction(obj) {\n\t        return 'function' == typeof obj;\n\t    }\n\t    function isString(obj) {\n\t        return 'string' == typeof obj;\n\t    }\n\t    function hashToClassName(c) {\n\t        var str = '';\n\t        for (var prop in c) if (c[prop]) {\n\t            if (str) str += ' ';\n\t            str += prop;\n\t        }\n\t        return str;\n\t    }\n\t    function cloneElement(vnode, props) {\n\t        return h(vnode.nodeName, extend(clone(vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n\t    }\n\t    function createLinkedState(component, key, eventPath) {\n\t        var path = key.split('.');\n\t        return function(e) {\n\t            var t = e && e.target || this, state = {}, obj = state, v = isString(eventPath) ? delve(e, eventPath) : t.nodeName ? t.type.match(/^che|rad/) ? t.checked : t.value : e, i = 0;\n\t            for (;i < path.length - 1; i++) obj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n\t            obj[path[i]] = v;\n\t            component.setState(state);\n\t        };\n\t    }\n\t    function enqueueRender(component) {\n\t        if (!component._dirty && (component._dirty = !0) && 1 == items.push(component)) (options.debounceRendering || defer)(rerender);\n\t    }\n\t    function rerender() {\n\t        var p, list = items;\n\t        items = [];\n\t        while (p = list.pop()) if (p._dirty) renderComponent(p);\n\t    }\n\t    function isFunctionalComponent(vnode) {\n\t        var nodeName = vnode && vnode.nodeName;\n\t        return nodeName && isFunction(nodeName) && !(nodeName.prototype && nodeName.prototype.render);\n\t    }\n\t    function buildFunctionalComponent(vnode, context) {\n\t        return vnode.nodeName(getNodeProps(vnode), context || EMPTY);\n\t    }\n\t    function isSameNodeType(node, vnode) {\n\t        if (isString(vnode)) return node instanceof Text;\n\t        if (isString(vnode.nodeName)) return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t        if (isFunction(vnode.nodeName)) return (node._componentConstructor ? node._componentConstructor === vnode.nodeName : !0) || isFunctionalComponent(vnode); else return;\n\t    }\n\t    function isNamedNode(node, nodeName) {\n\t        return node.normalizedNodeName === nodeName || toLowerCase(node.nodeName) === toLowerCase(nodeName);\n\t    }\n\t    function getNodeProps(vnode) {\n\t        var props = clone(vnode.attributes);\n\t        props.children = vnode.children;\n\t        var defaultProps = vnode.nodeName.defaultProps;\n\t        if (defaultProps) for (var i in defaultProps) if (void 0 === props[i]) props[i] = defaultProps[i];\n\t        return props;\n\t    }\n\t    function removeNode(node) {\n\t        var p = node.parentNode;\n\t        if (p) p.removeChild(node);\n\t    }\n\t    function setAccessor(node, name, old, value, isSvg) {\n\t        if ('className' === name) name = 'class';\n\t        if ('class' === name && value && 'object' == typeof value) value = hashToClassName(value);\n\t        if ('key' === name) ; else if ('class' === name && !isSvg) node.className = value || ''; else if ('style' === name) {\n\t            if (!value || isString(value) || isString(old)) node.style.cssText = value || '';\n\t            if (value && 'object' == typeof value) {\n\t                if (!isString(old)) for (var i in old) if (!(i in value)) node.style[i] = '';\n\t                for (var i in value) node.style[i] = 'number' == typeof value[i] && !NON_DIMENSION_PROPS[i] ? value[i] + 'px' : value[i];\n\t            }\n\t        } else if ('dangerouslySetInnerHTML' === name) {\n\t            if (value) node.innerHTML = value.__html || '';\n\t        } else if ('o' == name[0] && 'n' == name[1]) {\n\t            var l = node._listeners || (node._listeners = {});\n\t            name = toLowerCase(name.substring(2));\n\t            if (value) {\n\t                if (!l[name]) node.addEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n\t            } else if (l[name]) node.removeEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n\t            l[name] = value;\n\t        } else if ('list' !== name && 'type' !== name && !isSvg && name in node) {\n\t            setProperty(node, name, null == value ? '' : value);\n\t            if (null == value || value === !1) node.removeAttribute(name);\n\t        } else {\n\t            var ns = isSvg && name.match(/^xlink\\:?(.+)/);\n\t            if (null == value || value === !1) if (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1])); else node.removeAttribute(name); else if ('object' != typeof value && !isFunction(value)) if (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]), value); else node.setAttribute(name, value);\n\t        }\n\t    }\n\t    function setProperty(node, name, value) {\n\t        try {\n\t            node[name] = value;\n\t        } catch (e) {}\n\t    }\n\t    function eventProxy(e) {\n\t        return this._listeners[e.type](options.event && options.event(e) || e);\n\t    }\n\t    function collectNode(node) {\n\t        removeNode(node);\n\t        if (node instanceof Element) {\n\t            node._component = node._componentConstructor = null;\n\t            var _name = node.normalizedNodeName || toLowerCase(node.nodeName);\n\t            (nodes[_name] || (nodes[_name] = [])).push(node);\n\t        }\n\t    }\n\t    function createNode(nodeName, isSvg) {\n\t        var name = toLowerCase(nodeName), node = nodes[name] && nodes[name].pop() || (isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName));\n\t        node.normalizedNodeName = name;\n\t        return node;\n\t    }\n\t    function flushMounts() {\n\t        var c;\n\t        while (c = mounts.pop()) {\n\t            if (options.afterMount) options.afterMount(c);\n\t            if (c.componentDidMount) c.componentDidMount();\n\t        }\n\t    }\n\t    function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t        if (!diffLevel++) {\n\t            isSvgMode = parent && void 0 !== parent.ownerSVGElement;\n\t            hydrating = dom && !(ATTR_KEY in dom);\n\t        }\n\t        var ret = idiff(dom, vnode, context, mountAll);\n\t        if (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\t        if (!--diffLevel) {\n\t            hydrating = !1;\n\t            if (!componentRoot) flushMounts();\n\t        }\n\t        return ret;\n\t    }\n\t    function idiff(dom, vnode, context, mountAll) {\n\t        var ref = vnode && vnode.attributes && vnode.attributes.ref;\n\t        while (isFunctionalComponent(vnode)) vnode = buildFunctionalComponent(vnode, context);\n\t        if (null == vnode) vnode = '';\n\t        if (isString(vnode)) {\n\t            if (dom && dom instanceof Text && dom.parentNode) {\n\t                if (dom.nodeValue != vnode) dom.nodeValue = vnode;\n\t            } else {\n\t                if (dom) recollectNodeTree(dom);\n\t                dom = document.createTextNode(vnode);\n\t            }\n\t            return dom;\n\t        }\n\t        if (isFunction(vnode.nodeName)) return buildComponentFromVNode(dom, vnode, context, mountAll);\n\t        var out = dom, nodeName = String(vnode.nodeName), prevSvgMode = isSvgMode, vchildren = vnode.children;\n\t        isSvgMode = 'svg' === nodeName ? !0 : 'foreignObject' === nodeName ? !1 : isSvgMode;\n\t        if (!dom) out = createNode(nodeName, isSvgMode); else if (!isNamedNode(dom, nodeName)) {\n\t            out = createNode(nodeName, isSvgMode);\n\t            while (dom.firstChild) out.appendChild(dom.firstChild);\n\t            if (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t            recollectNodeTree(dom);\n\t        }\n\t        var fc = out.firstChild, props = out[ATTR_KEY];\n\t        if (!props) {\n\t            out[ATTR_KEY] = props = {};\n\t            for (var a = out.attributes, i = a.length; i--; ) props[a[i].name] = a[i].value;\n\t        }\n\t        if (!hydrating && vchildren && 1 === vchildren.length && 'string' == typeof vchildren[0] && fc && fc instanceof Text && !fc.nextSibling) {\n\t            if (fc.nodeValue != vchildren[0]) fc.nodeValue = vchildren[0];\n\t        } else if (vchildren && vchildren.length || fc) innerDiffNode(out, vchildren, context, mountAll, !!props.dangerouslySetInnerHTML);\n\t        diffAttributes(out, vnode.attributes, props);\n\t        if (ref) (props.ref = ref)(out);\n\t        isSvgMode = prevSvgMode;\n\t        return out;\n\t    }\n\t    function innerDiffNode(dom, vchildren, context, mountAll, absorb) {\n\t        var j, c, vchild, child, originalChildren = dom.childNodes, children = [], keyed = {}, keyedLen = 0, min = 0, len = originalChildren.length, childrenLen = 0, vlen = vchildren && vchildren.length;\n\t        if (len) for (var i = 0; i < len; i++) {\n\t            var _child = originalChildren[i], props = _child[ATTR_KEY], key = vlen ? (c = _child._component) ? c.__key : props ? props.key : null : null;\n\t            if (null != key) {\n\t                keyedLen++;\n\t                keyed[key] = _child;\n\t            } else if (hydrating || absorb || props || _child instanceof Text) children[childrenLen++] = _child;\n\t        }\n\t        if (vlen) for (var i = 0; i < vlen; i++) {\n\t            vchild = vchildren[i];\n\t            child = null;\n\t            var key = vchild.key;\n\t            if (null != key) {\n\t                if (keyedLen && key in keyed) {\n\t                    child = keyed[key];\n\t                    keyed[key] = void 0;\n\t                    keyedLen--;\n\t                }\n\t            } else if (!child && min < childrenLen) for (j = min; j < childrenLen; j++) {\n\t                c = children[j];\n\t                if (c && isSameNodeType(c, vchild)) {\n\t                    child = c;\n\t                    children[j] = void 0;\n\t                    if (j === childrenLen - 1) childrenLen--;\n\t                    if (j === min) min++;\n\t                    break;\n\t                }\n\t            }\n\t            child = idiff(child, vchild, context, mountAll);\n\t            if (child && child !== dom) if (i >= len) dom.appendChild(child); else if (child !== originalChildren[i]) {\n\t                if (child === originalChildren[i + 1]) removeNode(originalChildren[i]);\n\t                dom.insertBefore(child, originalChildren[i] || null);\n\t            }\n\t        }\n\t        if (keyedLen) for (var i in keyed) if (keyed[i]) recollectNodeTree(keyed[i]);\n\t        while (min <= childrenLen) {\n\t            child = children[childrenLen--];\n\t            if (child) recollectNodeTree(child);\n\t        }\n\t    }\n\t    function recollectNodeTree(node, unmountOnly) {\n\t        var component = node._component;\n\t        if (component) unmountComponent(component, !unmountOnly); else {\n\t            if (node[ATTR_KEY] && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n\t            if (!unmountOnly) collectNode(node);\n\t            var c;\n\t            while (c = node.lastChild) recollectNodeTree(c, unmountOnly);\n\t        }\n\t    }\n\t    function diffAttributes(dom, attrs, old) {\n\t        var name;\n\t        for (name in old) if (!(attrs && name in attrs) && null != old[name]) setAccessor(dom, name, old[name], old[name] = void 0, isSvgMode);\n\t        if (attrs) for (name in attrs) if (!('children' === name || 'innerHTML' === name || name in old && attrs[name] === ('value' === name || 'checked' === name ? dom[name] : old[name]))) setAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t    }\n\t    function collectComponent(component) {\n\t        var name = component.constructor.name, list = components[name];\n\t        if (list) list.push(component); else components[name] = [ component ];\n\t    }\n\t    function createComponent(Ctor, props, context) {\n\t        var inst = new Ctor(props, context), list = components[Ctor.name];\n\t        Component.call(inst, props, context);\n\t        if (list) for (var i = list.length; i--; ) if (list[i].constructor === Ctor) {\n\t            inst.nextBase = list[i].nextBase;\n\t            list.splice(i, 1);\n\t            break;\n\t        }\n\t        return inst;\n\t    }\n\t    function setComponentProps(component, props, opts, context, mountAll) {\n\t        if (!component._disable) {\n\t            component._disable = !0;\n\t            if (component.__ref = props.ref) delete props.ref;\n\t            if (component.__key = props.key) delete props.key;\n\t            if (!component.base || mountAll) {\n\t                if (component.componentWillMount) component.componentWillMount();\n\t            } else if (component.componentWillReceiveProps) component.componentWillReceiveProps(props, context);\n\t            if (context && context !== component.context) {\n\t                if (!component.prevContext) component.prevContext = component.context;\n\t                component.context = context;\n\t            }\n\t            if (!component.prevProps) component.prevProps = component.props;\n\t            component.props = props;\n\t            component._disable = !1;\n\t            if (0 !== opts) if (1 === opts || options.syncComponentUpdates !== !1 || !component.base) renderComponent(component, 1, mountAll); else enqueueRender(component);\n\t            if (component.__ref) component.__ref(component);\n\t        }\n\t    }\n\t    function renderComponent(component, opts, mountAll, isChild) {\n\t        if (!component._disable) {\n\t            var skip, rendered, inst, cbase, props = component.props, state = component.state, context = component.context, previousProps = component.prevProps || props, previousState = component.prevState || state, previousContext = component.prevContext || context, isUpdate = component.base, nextBase = component.nextBase, initialBase = isUpdate || nextBase, initialChildComponent = component._component;\n\t            if (isUpdate) {\n\t                component.props = previousProps;\n\t                component.state = previousState;\n\t                component.context = previousContext;\n\t                if (2 !== opts && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === !1) skip = !0; else if (component.componentWillUpdate) component.componentWillUpdate(props, state, context);\n\t                component.props = props;\n\t                component.state = state;\n\t                component.context = context;\n\t            }\n\t            component.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\t            component._dirty = !1;\n\t            if (!skip) {\n\t                if (component.render) rendered = component.render(props, state, context);\n\t                if (component.getChildContext) context = extend(clone(context), component.getChildContext());\n\t                while (isFunctionalComponent(rendered)) rendered = buildFunctionalComponent(rendered, context);\n\t                var toUnmount, base, childComponent = rendered && rendered.nodeName;\n\t                if (isFunction(childComponent)) {\n\t                    var childProps = getNodeProps(rendered);\n\t                    inst = initialChildComponent;\n\t                    if (inst && inst.constructor === childComponent && childProps.key == inst.__key) setComponentProps(inst, childProps, 1, context); else {\n\t                        toUnmount = inst;\n\t                        inst = createComponent(childComponent, childProps, context);\n\t                        inst.nextBase = inst.nextBase || nextBase;\n\t                        inst._parentComponent = component;\n\t                        component._component = inst;\n\t                        setComponentProps(inst, childProps, 0, context);\n\t                        renderComponent(inst, 1, mountAll, !0);\n\t                    }\n\t                    base = inst.base;\n\t                } else {\n\t                    cbase = initialBase;\n\t                    toUnmount = initialChildComponent;\n\t                    if (toUnmount) cbase = component._component = null;\n\t                    if (initialBase || 1 === opts) {\n\t                        if (cbase) cbase._component = null;\n\t                        base = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, !0);\n\t                    }\n\t                }\n\t                if (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t                    var baseParent = initialBase.parentNode;\n\t                    if (baseParent && base !== baseParent) {\n\t                        baseParent.replaceChild(base, initialBase);\n\t                        if (!toUnmount) {\n\t                            initialBase._component = null;\n\t                            recollectNodeTree(initialBase);\n\t                        }\n\t                    }\n\t                }\n\t                if (toUnmount) unmountComponent(toUnmount, base !== initialBase);\n\t                component.base = base;\n\t                if (base && !isChild) {\n\t                    var componentRef = component, t = component;\n\t                    while (t = t._parentComponent) (componentRef = t).base = base;\n\t                    base._component = componentRef;\n\t                    base._componentConstructor = componentRef.constructor;\n\t                }\n\t            }\n\t            if (!isUpdate || mountAll) mounts.unshift(component); else if (!skip) {\n\t                if (component.componentDidUpdate) component.componentDidUpdate(previousProps, previousState, previousContext);\n\t                if (options.afterUpdate) options.afterUpdate(component);\n\t            }\n\t            var fn, cb = component._renderCallbacks;\n\t            if (cb) while (fn = cb.pop()) fn.call(component);\n\t            if (!diffLevel && !isChild) flushMounts();\n\t        }\n\t    }\n\t    function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\t        var c = dom && dom._component, originalComponent = c, oldDom = dom, isDirectOwner = c && dom._componentConstructor === vnode.nodeName, isOwner = isDirectOwner, props = getNodeProps(vnode);\n\t        while (c && !isOwner && (c = c._parentComponent)) isOwner = c.constructor === vnode.nodeName;\n\t        if (c && isOwner && (!mountAll || c._component)) {\n\t            setComponentProps(c, props, 3, context, mountAll);\n\t            dom = c.base;\n\t        } else {\n\t            if (originalComponent && !isDirectOwner) {\n\t                unmountComponent(originalComponent, !0);\n\t                dom = oldDom = null;\n\t            }\n\t            c = createComponent(vnode.nodeName, props, context);\n\t            if (dom && !c.nextBase) {\n\t                c.nextBase = dom;\n\t                oldDom = null;\n\t            }\n\t            setComponentProps(c, props, 1, context, mountAll);\n\t            dom = c.base;\n\t            if (oldDom && dom !== oldDom) {\n\t                oldDom._component = null;\n\t                recollectNodeTree(oldDom);\n\t            }\n\t        }\n\t        return dom;\n\t    }\n\t    function unmountComponent(component, remove) {\n\t        if (options.beforeUnmount) options.beforeUnmount(component);\n\t        var base = component.base;\n\t        component._disable = !0;\n\t        if (component.componentWillUnmount) component.componentWillUnmount();\n\t        component.base = null;\n\t        var inner = component._component;\n\t        if (inner) unmountComponent(inner, remove); else if (base) {\n\t            if (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n\t            component.nextBase = base;\n\t            if (remove) {\n\t                removeNode(base);\n\t                collectComponent(component);\n\t            }\n\t            var c;\n\t            while (c = base.lastChild) recollectNodeTree(c, !remove);\n\t        }\n\t        if (component.__ref) component.__ref(null);\n\t        if (component.componentDidUnmount) component.componentDidUnmount();\n\t    }\n\t    function Component(props, context) {\n\t        this._dirty = !0;\n\t        this.context = context;\n\t        this.props = props;\n\t        if (!this.state) this.state = {};\n\t    }\n\t    function render(vnode, parent, merge) {\n\t        return diff(merge, vnode, {}, !1, parent);\n\t    }\n\t    var options = {};\n\t    var stack = [];\n\t    var EMPTY_CHILDREN = [];\n\t    var lcCache = {};\n\t    var toLowerCase = function(s) {\n\t        return lcCache[s] || (lcCache[s] = s.toLowerCase());\n\t    };\n\t    var resolved = 'undefined' != typeof Promise && Promise.resolve();\n\t    var defer = resolved ? function(f) {\n\t        resolved.then(f);\n\t    } : setTimeout;\n\t    var EMPTY = {};\n\t    var ATTR_KEY = 'undefined' != typeof Symbol ? Symbol.for('preactattr') : '__preactattr_';\n\t    var NON_DIMENSION_PROPS = {\n\t        boxFlex: 1,\n\t        boxFlexGroup: 1,\n\t        columnCount: 1,\n\t        fillOpacity: 1,\n\t        flex: 1,\n\t        flexGrow: 1,\n\t        flexPositive: 1,\n\t        flexShrink: 1,\n\t        flexNegative: 1,\n\t        fontWeight: 1,\n\t        lineClamp: 1,\n\t        lineHeight: 1,\n\t        opacity: 1,\n\t        order: 1,\n\t        orphans: 1,\n\t        strokeOpacity: 1,\n\t        widows: 1,\n\t        zIndex: 1,\n\t        zoom: 1\n\t    };\n\t    var NON_BUBBLING_EVENTS = {\n\t        blur: 1,\n\t        error: 1,\n\t        focus: 1,\n\t        load: 1,\n\t        resize: 1,\n\t        scroll: 1\n\t    };\n\t    var items = [];\n\t    var nodes = {};\n\t    var mounts = [];\n\t    var diffLevel = 0;\n\t    var isSvgMode = !1;\n\t    var hydrating = !1;\n\t    var components = {};\n\t    extend(Component.prototype, {\n\t        linkState: function(key, eventPath) {\n\t            var c = this._linkedStates || (this._linkedStates = {});\n\t            return c[key + eventPath] || (c[key + eventPath] = createLinkedState(this, key, eventPath));\n\t        },\n\t        setState: function(state, callback) {\n\t            var s = this.state;\n\t            if (!this.prevState) this.prevState = clone(s);\n\t            extend(s, isFunction(state) ? state(s, this.props) : state);\n\t            if (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t            enqueueRender(this);\n\t        },\n\t        forceUpdate: function() {\n\t            renderComponent(this, 2);\n\t        },\n\t        render: function() {}\n\t    });\n\t    exports.h = h;\n\t    exports.cloneElement = cloneElement;\n\t    exports.Component = Component;\n\t    exports.render = render;\n\t    exports.rerender = rerender;\n\t    exports.options = options;\n\t});\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _preact = __webpack_require__(1);\n\t\n\tvar _item = __webpack_require__(3);\n\t\n\tvar _item2 = _interopRequireDefault(_item);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LIST_NUMBER = 10;\n\tvar RENDER_EPOCH = 2;\n\t\n\t/** make up data */\n\tvar NAMES = 'Shakira Lucas Norah Erick Gay Rachal Mable Orval Tracie Linh Rhoda Von Sarita Kaye Yanira Carter Hal Jamison Cari Kayleigh Bella Ehtel Latoyia Jenniffer Ryan Loralee Grazyna Roland Andy Billi'.split(' ');\n\t\n\tvar getNames = function getNames() {\n\t\treturn NAMES[Math.random() * .9999 * NAMES.length | 0];\n\t};\n\t\n\tfunction createNamesAndUnread() {\n\t\tvar items = [];\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\titems.push({\n\t\t\t\tid: i,\n\t\t\t\tname: getNames() + ' ' + getNames(),\n\t\t\t\tunread: Math.max(0, Math.random() * 20 | 0 - 10)\n\t\t\t});\n\t\t}\n\t\treturn items;\n\t}\n\t\n\tvar App = function (_Component) {\n\t\t_inherits(App, _Component);\n\t\n\t\tfunction App() {\n\t\t\tvar _temp, _this, _ret;\n\t\n\t\t\t_classCallCheck(this, App);\n\t\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\t\n\t\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n\t\t\t\titems: createNamesAndUnread()\n\t\t\t}, _this.explainWebWorker = function () {\n\t\t\t\t_this.setState({\n\t\t\t\t\tmessage: '\\n\\t\\t\\t\\tclick and additional layer comes out\\n\\t\\t\\t'.replace(/\\t+/g, '').trim()\n\t\t\t\t});\n\t\t\t}, _this.closeMessage = function () {\n\t\t\t\t_this.setState({ message: null });\n\t\t\t}, _this.next = function () {\n\t\t\t\tvar items = _this.state.items.slice();\n\t\t\t\tfor (var i = RENDER_EPOCH; i--;) {\n\t\t\t\t\titems[Math.random() * items.length | 0].unread++;\n\t\t\t\t}\n\t\t\t\t_this.setState({ items: items });\n\t\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t\t}\n\t\n\t\t// increment unread count for a few randomly selected contacts\n\t\n\t\n\t\t// start looping after mount\n\t\tApp.prototype.componentDidMount = function componentDidMount() {\n\t\t\tsetTimeout(this.next, 100);\n\t\t};\n\t\n\t\t// track render start time before each render\n\t\n\t\n\t\tApp.prototype.componentWillUpdate = function componentWillUpdate() {\n\t\t\tthis.started = Date.now();\n\t\t};\n\t\n\t\t// after every render, queue another render\n\t\n\t\n\t\tApp.prototype.componentDidUpdate = function componentDidUpdate() {\n\t\t\tthis.elapsed = Date.now() - this.started;\n\t\t\tsetTimeout(this.next, 500);\n\t\t};\n\t\t// 对JSX的渲染\n\t\n\t\n\t\tApp.prototype.render = function render(props, _ref) {\n\t\t\tvar items = _ref.items,\n\t\t\t    message = _ref.message;\n\t\n\t\t\treturn (0, _preact.h)(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'app' },\n\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ 'class': 'bar bar-header bar-dark' },\n\t\t\t\t\t(0, _preact.h)('button', { 'class': 'button icon ion-information-circled', onClick: this.explainWorkerDelay }),\n\t\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\t{ 'class': 'title' },\n\t\t\t\t\t\t'\\u5B9E\\u4E60\\u4F5C\\u4E1A'\n\t\t\t\t\t),\n\t\t\t\t\t(0, _preact.h)('progress-spinner', { dark: true, style: 'margin-left: 10px;' })\n\t\t\t\t),\n\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ 'class': 'content has-header' },\n\t\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ 'class': 'list' },\n\t\t\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t\t\t'a',\n\t\t\t\t\t\t\t{ 'class': 'item item-avatar item-icon-right', target: '_blank' },\n\t\t\t\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t\t\t\t'h2',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'running in a Web Worker'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t(0, _preact.h)('i', { 'class': 'icon ion-ios-arrow-forward' })\n\t\t\t\t\t\t),\n\t\t\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ 'class': 'item item-checkbox' },\n\t\t\t\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ 'class': 'checkbox' },\n\t\t\t\t\t\t\t\t(0, _preact.h)('input', { type: 'checkbox', id: 'use-vis' })\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'test checkbox'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ 'class': 'item item-divider' },\n\t\t\t\t\t\t\titems.length,\n\t\t\t\t\t\t\t' data_pass_example'\n\t\t\t\t\t\t),\n\t\t\t\t\t\titems.map(function (item) {\n\t\t\t\t\t\t\treturn (0, _preact.h)(_item2.default, item);\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ 'class': 'dialog' + (message ? ' open' : ''), onClick: this.closeMessage },\n\t\t\t\t\t(0, _preact.h)(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ 'class': 'inner' },\n\t\t\t\t\t\tmessage || ''\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t};\n\t\n\t\treturn App;\n\t}(_preact.Component);\n\t\n\texports.default = App;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _preact = __webpack_require__(1);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Item = function (_Component) {\n\t\t_inherits(Item, _Component);\n\t\n\t\tfunction Item() {\n\t\t\tvar _temp, _this, _ret;\n\t\n\t\t\t_classCallCheck(this, Item);\n\t\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\t\n\t\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.toggle = function (e) {\n\t\t\t\tconsole.log('toggle', e);\n\t\t\t\t_this.setState({ selected: !_this.state.selected });\n\t\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t\t}\n\t\n\t\tItem.prototype.render = function render(_ref, _ref2) {\n\t\t\tvar name = _ref.name,\n\t\t\t    unread = _ref.unread;\n\t\t\tvar selected = _ref2.selected;\n\t\n\t\t\tvar startDate = Date.now();\n\t\t\twhile (Date.now() - 1 < startDate) {}\n\t\t\treturn (0, _preact.h)(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'item item-icon-left' + (unread ? ' item-icon-right' : ''), onClick: this.toggle, style: selected ? 'background:#EEE;' : '' },\n\t\t\t\t(0, _preact.h)('i', { 'class': 'icon ' + (selected ? 'ion-checkmark-circled' : 'ion-chatbubble') }),\n\t\t\t\tname,\n\t\t\t\tunread ? (0, _preact.h)(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ 'class': 'badge badge-royal unread' },\n\t\t\t\t\tunread\n\t\t\t\t) : null\n\t\t\t);\n\t\t};\n\t\n\t\treturn Item;\n\t}(_preact.Component);\n\t\n\texports.default = Item;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _undom = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"undom\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t\n\tvar _undom2 = _interopRequireDefault(_undom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// Install a global Document using Undom, a minimal DOM Document implementation.\n\tvar document = global.document = (0, _undom2.default)();\n\tfor (var i in document.defaultView) {\n\t\tif (document.defaultView.hasOwnProperty(i)) {\n\t\t\tglobal[i] = document.defaultView[i];\n\t\t}\n\t} // Common browser globals\n\tvar url = '/';\n\t\n\tvar location = {\n\t\t_current: '/',\n\t\tget href() {\n\t\t\treturn url;\n\t\t},\n\t\tget pathname() {\n\t\t\treturn url.replace(/^(([a-z0-9]+\\:)?\\/\\/[^/]+|[?#].*$)/g, '');\n\t\t},\n\t\tget search() {\n\t\t\treturn (url.match(/\\?([^#]*)(#.*)?$/) || [])[1];\n\t\t},\n\t\tget hash() {\n\t\t\treturn (url.match(/#(.*)$/) || [])[1];\n\t\t}\n\t};\n\t\n\tvar history = {\n\t\tpushState: function pushState(a, b, url) {\n\t\t\tsend({ type: 'pushState', url: url });\n\t\t},\n\t\treplaceState: function replaceState(a, b, url) {\n\t\t\tsend({ type: 'replaceState', url: url });\n\t\t}\n\t};\n\t\n\t// used to create UUIDs for Elements\n\tvar COUNTER = 0;\n\t\n\t/** MutationObserver properties to sanitize as (collections of) DOM Elements */\n\tvar TO_SANITIZE = ['addedNodes', 'removedNodes', 'nextSibling', 'previousSibling', 'target'];\n\t\n\t/** Properties to strip when serializing for postMessage */\n\tvar PROP_BLACKLIST = ['children', 'parentNode', '__handlers', '_component', '_componentConstructor'];\n\t\n\t/** Mapping of global IDs to Elements */\n\tvar NODES = new Map();\n\t\n\t/** Returns the worker DOM Element corresponding to a serialized Element object.\n\t *\t@param {String|Object} node\t\tAn `id`, or an object with an `__id` property.\n\t *\t@returns {Element} element\n\t */\n\tfunction getNode(node) {\n\t\tvar id = void 0;\n\t\tif (node && (typeof node === 'undefined' ? 'undefined' : _typeof(node)) === 'object') id = node.__id;\n\t\tif (typeof node === 'string') id = node;\n\t\tif (!id) return null;\n\t\tif (node.nodeName === 'BODY') return document.body;\n\t\treturn NODES.get(id);\n\t}\n\t\n\t/** Receives Event messages and refires them in the worker's DOM. */\n\tfunction handleEvent(event) {\n\t\tvar target = getNode(event.target);\n\t\tif (target) {\n\t\t\tevent.target = target;\n\t\t\tevent.bubbles = true;\n\t\t\ttarget.dispatchEvent(event);\n\t\t}\n\t}\n\t\n\t/** Normalize messages (MutationRecords mainly)\n\t *  Replaces previously-sent Elements with their IDs.\n\t */\n\tfunction sanitize(obj) {\n\t\tif (!obj || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') return obj;\n\t\n\t\tif (Array.isArray(obj)) return obj.map(sanitize);\n\t\n\t\tif (obj instanceof document.defaultView.Node) {\n\t\t\tvar id = obj.__id;\n\t\t\tif (!id) {\n\t\t\t\tid = obj.__id = String(++COUNTER);\n\t\t\t}\n\t\t\tNODES.set(id, obj);\n\t\t}\n\t\n\t\tvar out = {};\n\t\tfor (var _i in obj) {\n\t\t\tif (obj.hasOwnProperty(_i) && PROP_BLACKLIST.indexOf(_i) < 0) {\n\t\t\t\tout[_i] = obj[_i];\n\t\t\t}\n\t\t}\n\t\tif (out.childNodes && out.childNodes.length) {\n\t\t\tout.childNodes = sanitize(out.childNodes);\n\t\t}\n\t\treturn out;\n\t}\n\t\n\t/** Observe DOM mutations and send MutationRecords to parent page. */\n\tnew MutationObserver(function (mutations) {\n\t\tfor (var _i2 = mutations.length; _i2--;) {\n\t\t\tvar mutation = mutations[_i2];\n\t\t\tfor (var j = TO_SANITIZE.length; j--;) {\n\t\t\t\tvar prop = TO_SANITIZE[j];\n\t\t\t\tmutation[prop] = sanitize(mutation[prop]);\n\t\t\t}\n\t\t}\n\t\tsend({ type: 'MutationRecord', mutations: mutations });\n\t}).observe(document, { subtree: true });\n\t\n\t/** Send messages to the page */\n\tfunction send(message) {\n\t\tpostMessage(JSON.parse(JSON.stringify(message)));\n\t}\n\t\n\t/** Receive messages from the page */\n\taddEventListener('message', function (_ref) {\n\t\tvar data = _ref.data;\n\t\n\t\tswitch (data.type) {\n\t\t\tcase 'init':\n\t\t\t\turl = data.url;\n\t\t\t\tbreak;\n\t\t\tcase 'event':\n\t\t\t\thandleEvent(data.event);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// 0ca3c51e678a18c36e72.worker.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0ca3c51e678a18c36e72","import './renderer/oneworker';\nimport { h, render } from 'preact';\n\nlet jsxroot;\nfunction init() {\n\tlet app = require('./components/app');\n\tjsxroot = render(h(app.default || app), document.body, root);\n}\n\nif (module.hot) module.hot.accept(['./components/app'], init);\n\ninit();\n\n\n\n// WEBPACK FOOTER //\n// ./app.js","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/** JSX/hyperscript reviver\n*\tBenchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\t@see http://jasonformat.com/wtf-is-jsx\n *\t@public\n *  @example\n *  /** @jsx h *\\/\n *  import { render, h } from 'preact';\n *  render(<span>foo</span>, document.body);\n */\nexport function h(nodeName, attributes) {\n\tlet children, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) instanceof Array) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse if (child!=null && child!==true && child!==false) {\n\t\t\tif (typeof child=='number') child = String(child);\n\t\t\tsimple = typeof child=='string';\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t(children || (children = [])).push(child);\n\t\t\t\tlastSimple = simple;\n\t\t\t}\n\t\t}\n\t}\n\n\tlet p = new VNode(nodeName, attributes || undefined, children || EMPTY_CHILDREN);\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode) options.vnode(p);\n\n\treturn p;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/h.js","/** Copy own-properties from `props` onto `obj`.\n *\t@returns obj\n *\t@private\n */\nexport function extend(obj, props) {\n\tif (props) {\n\t\tfor (let i in props) obj[i] = props[i];\n\t}\n\treturn obj;\n}\n\n\n/** Fast clone. Note: does not filter out non-own properties.\n *\t@see https://esbench.com/bench/56baa34f45df6895002e03b6\n */\nexport function clone(obj) {\n\treturn extend({}, obj);\n}\n\n\n/** Get a deep property value from the given object, expressed in dot-notation.\n *\t@private\n */\nexport function delve(obj, key) {\n\tfor (let p=key.split('.'), i=0; i<p.length && obj; i++) {\n\t\tobj = obj[p[i]];\n\t}\n\treturn obj;\n}\n\n\n/** @private is the given object a Function? */\nexport function isFunction(obj) {\n\treturn 'function'===typeof obj;\n}\n\n\n/** @private is the given object a String? */\nexport function isString(obj) {\n\treturn 'string'===typeof obj;\n}\n\n\n/** Convert a hashmap of CSS classes to a space-delimited className string\n *\t@private\n */\nexport function hashToClassName(c) {\n\tlet str = '';\n\tfor (let prop in c) {\n\t\tif (c[prop]) {\n\t\t\tif (str) str += ' ';\n\t\t\tstr += prop;\n\t\t}\n\t}\n\treturn str;\n}\n\n\n/** Just a memoized String#toLowerCase */\nlet lcCache = {};\nexport const toLowerCase = s => lcCache[s] || (lcCache[s] = s.toLowerCase());\n\n\n/** Call a function asynchronously, as soon as possible.\n *\t@param {Function} callback\n */\nlet resolved = typeof Promise!=='undefined' && Promise.resolve();\nexport const defer = resolved ? (f => { resolved.then(f); }) : setTimeout;\n\n\n\n// WEBPACK FOOTER //\n// ../src/util.js","import { clone, extend } from './util';\nimport { h } from './h';\n\nexport function cloneElement(vnode, props) {\n\treturn h(\n\t\tvnode.nodeName,\n\t\textend(clone(vnode.attributes), props),\n\t\targuments.length>2 ? [].slice.call(arguments, 2) : vnode.children\n\t);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/clone-element.js","import { isString, delve } from './util';\n\n/** Create an Event handler function that sets a given state property.\n *\t@param {Component} component\tThe component whose state should be updated\n *\t@param {string} key\t\t\t\tA dot-notated key path to update in the component's state\n *\t@param {string} eventPath\t\tA dot-notated key path to the value that should be retrieved from the Event or component\n *\t@returns {function} linkedStateHandler\n *\t@private\n */\nexport function createLinkedState(component, key, eventPath) {\n\tlet path = key.split('.');\n\treturn function(e) {\n\t\tlet t = e && e.target || this,\n\t\t\tstate = {},\n\t\t\tobj = state,\n\t\t\tv = isString(eventPath) ? delve(e, eventPath) : t.nodeName ? (t.type.match(/^che|rad/) ? t.checked : t.value) : e,\n\t\t\ti = 0;\n\t\tfor ( ; i<path.length-1; i++) {\n\t\t\tobj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n\t\t}\n\t\tobj[path[i]] = v;\n\t\tcomponent.setState(state);\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/linked-state.js","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/** Managed queue of dirty components to be re-rendered */\n\nlet items = [];\n\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\n\nexport function rerender() {\n\tlet p, list = items;\n\titems = [];\n\twhile ( (p = list.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/render-queue.js","import { EMPTY } from '../constants';\nimport { getNodeProps } from './index';\nimport { isFunction } from '../util';\n\n\n/** Check if a VNode is a reference to a stateless functional component.\n *\tA function component is represented as a VNode whose `nodeName` property is a reference to a function.\n *\tIf that function is not a Component (ie, has no `.render()` method on a prototype), it is considered a stateless functional component.\n *\t@param {VNode} vnode\tA VNode\n *\t@private\n */\nexport function isFunctionalComponent(vnode) {\n\tlet nodeName = vnode && vnode.nodeName;\n\treturn nodeName && isFunction(nodeName) && !(nodeName.prototype && nodeName.prototype.render);\n}\n\n\n\n/** Construct a resultant VNode from a VNode referencing a stateless functional component.\n *\t@param {VNode} vnode\tA VNode with a `nodeName` property that is a reference to a function.\n *\t@private\n */\nexport function buildFunctionalComponent(vnode, context) {\n\treturn vnode.nodeName(getNodeProps(vnode), context || EMPTY);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/vdom/functional-component.js","import { clone, isString, isFunction, toLowerCase } from '../util';\nimport { isFunctionalComponent } from './functional-component';\n\n\n/** Check if two nodes are equivalent.\n *\t@param {Element} node\n *\t@param {VNode} vnode\n *\t@private\n */\nexport function isSameNodeType(node, vnode) {\n\tif (isString(vnode)) {\n\t\treturn node instanceof Text;\n\t}\n\tif (isString(vnode.nodeName)) {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\tif (isFunction(vnode.nodeName)) {\n\t\treturn (node._componentConstructor ? node._componentConstructor===vnode.nodeName : true) || isFunctionalComponent(vnode);\n\t}\n}\n\n\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || toLowerCase(node.nodeName)===toLowerCase(nodeName);\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n * @param {VNode} vnode\n * @returns {Object} props\n */\nexport function getNodeProps(vnode) {\n\tlet props = clone(vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/vdom/index.js","import { NON_DIMENSION_PROPS, NON_BUBBLING_EVENTS } from '../constants';\nimport options from '../options';\nimport { toLowerCase, isString, isFunction, hashToClassName } from '../util';\n\n\n\n\n/** Removes a given DOM Node from its parent. */\nexport function removeNode(node) {\n\tlet p = node.parentNode;\n\tif (p) p.removeChild(node);\n}\n\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\n\tif (name==='className') name = 'class';\n\n\tif (name==='class' && value && typeof value==='object') {\n\t\tvalue = hashToClassName(value);\n\t}\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || isString(value) || isString(old)) {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (!isString(old)) {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && !NON_DIMENSION_PROPS[i] ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet l = node._listeners || (node._listeners = {});\n\t\tname = toLowerCase(name.substring(2));\n\t\t// @TODO: this might be worth it later, un-breaks focus/blur bubbling in IE9:\n\t\t// if (node.attachEvent) name = name=='focus'?'focusin':name=='blur'?'focusout':name;\n\t\tif (value) {\n\t\t\tif (!l[name]) node.addEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n\t\t}\n\t\telse if (l[name]) {\n\t\t\tnode.removeEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n\t\t}\n\t\tl[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value==null ? '' : value);\n\t\tif (value==null || value===false) node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && name.match(/^xlink\\:?(.+)/);\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]));\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='object' && !isFunction(value)) {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) { }\n}\n\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/dom/index.js","import { toLowerCase } from '../util';\nimport { removeNode } from './index';\n\n/** DOM node pool, keyed on nodeName. */\n\nconst nodes = {};\n\nexport function collectNode(node) {\n\tremoveNode(node);\n\n\tif (node instanceof Element) {\n\t\tnode._component = node._componentConstructor = null;\n\n\t\tlet name = node.normalizedNodeName || toLowerCase(node.nodeName);\n\t\t(nodes[name] || (nodes[name] = [])).push(node);\n\t}\n}\n\n\nexport function createNode(nodeName, isSvg) {\n\tlet name = toLowerCase(nodeName),\n\t\tnode = nodes[name] && nodes[name].pop() || (isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName));\n\tnode.normalizedNodeName = name;\n\treturn node;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/dom/recycler.js","import { ATTR_KEY } from '../constants';\nimport { isString, isFunction } from '../util';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { isFunctionalComponent, buildFunctionalComponent } from './functional-component';\nimport { buildComponentFromVNode } from './component';\nimport { setAccessor, removeNode } from '../dom/index';\nimport { createNode, collectNode } from '../dom/recycler';\nimport { unmountComponent } from './component';\nimport options from '../options';\n\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c=mounts.pop())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent && typeof parent.ownerSVGElement!=='undefined';\n\n\t\t// hydration is inidicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\nfunction idiff(dom, vnode, context, mountAll) {\n\tlet ref = vnode && vnode.attributes && vnode.attributes.ref;\n\n\n\t// Resolve ephemeral Pure Functional Components\n\twhile (isFunctionalComponent(vnode)) {\n\t\tvnode = buildFunctionalComponent(vnode, context);\n\t}\n\n\n\t// empty values (null & undefined) render as empty Text nodes\n\tif (vnode==null) vnode = '';\n\n\n\t// Fast case: Strings create/update Text nodes.\n\tif (isString(vnode)) {\n\t\t// update if it's already a Text node\n\t\tif (dom && dom instanceof Text && dom.parentNode) {\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tif (dom) recollectNodeTree(dom);\n\t\t\tdom = document.createTextNode(vnode);\n\t\t}\n\n\t\treturn dom;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff.\n\tif (isFunction(vnode.nodeName)) {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\tlet out = dom,\n\t\tnodeName = String(vnode.nodeName),\t// @TODO this masks undefined component errors as `<undefined>`\n\t\tprevSvgMode = isSvgMode,\n\t\tvchildren = vnode.children;\n\n\n\t// SVGs have special namespace stuff.\n\t// This tracks entering and exiting that namespace when descending through the tree.\n\tisSvgMode = nodeName==='svg' ? true : nodeName==='foreignObject' ? false : isSvgMode;\n\n\n\tif (!dom) {\n\t\t// case: we had no element to begin with\n\t\t// - create an element with the nodeName from VNode\n\t\tout = createNode(nodeName, isSvgMode);\n\t}\n\telse if (!isNamedNode(dom, nodeName)) {\n\t\t// case: Element and VNode had different nodeNames\n\t\t// - need to create the correct Element to match VNode\n\t\t// - then migrate children from old to new\n\n\t\tout = createNode(nodeName, isSvgMode);\n\n\t\t// move children into the replacement node\n\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t// recycle the old element (skips non-Element node types)\n\t\trecollectNodeTree(dom);\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY];\n\n\t// Attribute Hydration: if there is no prop cache on the element,\n\t// ...create it and populate it with the element's attributes.\n\tif (!props) {\n\t\tout[ATTR_KEY] = props = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc && fc instanceof Text && !fc.nextSibling) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, !!props.dangerouslySetInnerHTML);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// invoke original ref (from before resolving Pure Functional Components):\n\tif (ref) {\n\t\t(props.ref = ref)(out);\n\t}\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} absorb\t\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, absorb) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren && vchildren.length,\n\t\tj, c, vchild, child;\n\n\tif (len) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen ? ((c = child._component) ? c.__key : props ? props.key : null) : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (hydrating || absorb || props || child instanceof Text) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// if (isFunctionalComponent(vchild)) {\n\t\t\t// \tvchild = buildFunctionalComponent(vchild);\n\t\t\t// }\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && key in keyed) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tc = children[j];\n\t\t\t\t\tif (c && isSameNodeType(c, vchild)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tif (child && child!==dom) {\n\t\t\t\tif (i>=len) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child!==originalChildren[i]) {\n\t\t\t\t\tif (child===originalChildren[i+1]) {\n\t\t\t\t\t\tremoveNode(originalChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t\tdom.insertBefore(child, originalChildren[i] || null);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]) recollectNodeTree(keyed[i]);\n\t}\n\n\t// remove orphaned children\n\twhile (min<=childrenLen) {\n\t\tchild = children[childrenLen--];\n\t\tif (child) recollectNodeTree(child);\n\t}\n}\n\n\n\n/** Recursively recycle (or just unmount) a node an its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component, !unmountOnly);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY] && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n\n\t\tif (!unmountOnly) {\n\t\t\tcollectNode(node);\n\t\t}\n\n\t\t// Recollect/unmount all children.\n\t\t// - we use .lastChild here because it causes less reflow than .firstChild\n\t\t// - it's also cheaper than accessing the .childNodes Live NodeList\n\t\tlet c;\n\t\twhile ((c=node.lastChild)) recollectNodeTree(c, unmountOnly);\n\t}\n}\n\n\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tlet name;\n\tfor (name in old) {\n\t\tif (!(attrs && name in attrs) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tif (attrs) {\n\t\tfor (name in attrs) {\n\t\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/vdom/diff.js","import { Component } from '../component';\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nconst components = {};\n\n\nexport function collectComponent(component) {\n\tlet name = component.constructor.name,\n\t\tlist = components[name];\n\tif (list) list.push(component);\n\telse components[name] = [component];\n}\n\n\nexport function createComponent(Ctor, props, context) {\n\tlet inst = new Ctor(props, context),\n\t\tlist = components[Ctor.name];\n\tComponent.call(inst, props, context);\n\tif (list) {\n\t\tfor (let i=list.length; i--; ) {\n\t\t\tif (list[i].constructor===Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/vdom/component-recycler.js","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { isFunction, clone, extend } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree } from './diff';\nimport { isFunctionalComponent, buildFunctionalComponent } from './functional-component';\nimport { createComponent, collectComponent } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nexport function setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif ((component.__ref = props.ref)) delete props.ref;\n\tif ((component.__key = props.key)) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t}\n\telse if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts!==NO_RENDER) {\n\t\tif (opts===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nexport function renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet skip, rendered,\n\t\tprops = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tinst, cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\tif (component.render) rendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(clone(context), component.getChildContext());\n\t\t}\n\n\t\twhile (isFunctionalComponent(rendered)) {\n\t\t\trendered = buildFunctionalComponent(rendered, context);\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (isFunction(childComponent)) {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tinst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tcomponent._component = inst;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount, base!==initialBase);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t}\n\telse if (!skip) {\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tlet cb = component._renderCallbacks, fn;\n\tif (cb) while ( (fn = cb.pop()) ) fn.call(component);\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent, true);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L241:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Element} dom\t\t\tA DOM node from which to unmount the given Component\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nexport function unmountComponent(component, remove) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\t// console.log(`${remove?'Removing':'Unmounting'} component: ${component.constructor.name}`);\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner, remove);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tif (remove) {\n\t\t\tremoveNode(base);\n\t\t\tcollectComponent(component);\n\t\t}\n\t\tlet c;\n\t\twhile ((c=base.lastChild)) recollectNodeTree(c, !remove);\n\t\t// removeOrphanedChildren(base.childNodes, true);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n\tif (component.componentDidUnmount) component.componentDidUnmount();\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/vdom/component.js","import { FORCE_RENDER } from './constants';\nimport { extend, clone, isFunction } from './util';\nimport { createLinkedState } from './linked-state';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n\n/** Base Component class, for the ES6 Class method of creating Components\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nexport function Component(props, context) {\n\t/** @private */\n\tthis._dirty = true;\n\t// /** @public */\n\t// this._disableRendering = false;\n\t// /** @public */\n\t// this.prevState = this.prevProps = this.prevContext = this.base = this.nextBase = this._parentComponent = this._component = this.__ref = this.__key = this._linkedStates = this._renderCallbacks = null;\n\t/** @public */\n\tthis.context = context;\n\t/** @type {object} */\n\tthis.props = props;\n\t/** @type {object} */\n\tif (!this.state) this.state = {};\n}\n\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` value indicating if the component should re-render when receiving the given `props` and `state`.\n\t *\t@param {object} nextProps\n\t *\t@param {object} nextState\n\t *\t@param {object} nextContext\n\t *\t@returns {Boolean} should the component re-render\n\t *\t@name shouldComponentUpdate\n\t *\t@function\n\t */\n\t// shouldComponentUpdate() {\n\t// \treturn true;\n\t// },\n\n\n\t/** Returns a function that sets a state property when called.\n\t *\tCalling linkState() repeatedly with the same arguments returns a cached link function.\n\t *\n\t *\tProvides some built-in special cases:\n\t *\t\t- Checkboxes and radio buttons link their boolean `checked` value\n\t *\t\t- Inputs automatically link their `value` property\n\t *\t\t- Event paths fall back to any associated Component if not found on an element\n\t *\t\t- If linked value is a function, will invoke it and use the result\n\t *\n\t *\t@param {string} key\t\tThe path to set - can be a dot-notated deep key\n\t *\t@param {string} [eventPath]\tIf set, attempts to find the new state value at a given dot-notated path within the object passed to the linkedState setter.\n\t *\t@returns {function} linkStateSetter(e)\n\t *\n\t *\t@example Update a \"text\" state value when an input changes:\n\t *\t\t<input onChange={ this.linkState('text') } />\n\t *\n\t *\t@example Set a deep state value on click\n\t *\t\t<button onClick={ this.linkState('touch.coords', 'touches.0') }>Tap</button\n\t */\n\tlinkState(key, eventPath) {\n\t\tlet c = this._linkedStates || (this._linkedStates = {});\n\t\treturn c[key+eventPath] || (c[key+eventPath] = createLinkedState(this, key, eventPath));\n\t},\n\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n\t *\t@param {object} state\t\tA hash of state properties to update with new values\n\t */\n\tsetState(state, callback) {\n\t\tlet s = this.state;\n\t\tif (!this.prevState) this.prevState = clone(s);\n\t\textend(s, isFunction(state) ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = (this._renderCallbacks || [])).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n\t *\t@private\n\t */\n\tforceUpdate() {\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n\t *\t@param {object} state\t\tThe component's current state\n\t *\t@param {object} context\t\tContext object (if a parent component has provided context)\n\t *\t@returns VNode\n\t */\n\trender() {}\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ../src/component.js","// render modes\n\nexport const NO_RENDER = 0;\nexport const SYNC_RENDER = 1;\nexport const FORCE_RENDER = 2;\nexport const ASYNC_RENDER = 3;\n\nexport const EMPTY = {};\n\nexport const ATTR_KEY = typeof Symbol!=='undefined' ? Symbol.for('preactattr') : '__preactattr_';\n\n// DOM properties that should NOT have \"px\" added when numeric\nexport const NON_DIMENSION_PROPS = {\n\tboxFlex:1, boxFlexGroup:1, columnCount:1, fillOpacity:1, flex:1, flexGrow:1,\n\tflexPositive:1, flexShrink:1, flexNegative:1, fontWeight:1, lineClamp:1, lineHeight:1,\n\topacity:1, order:1, orphans:1, strokeOpacity:1, widows:1, zIndex:1, zoom:1\n};\n\n// DOM event types that do not bubble and should be attached via useCapture\nexport const NON_BUBBLING_EVENTS = { blur:1, error:1, focus:1, load:1, resize:1, scroll:1 };\n\n\n\n// WEBPACK FOOTER //\n// ../src/constants.js","import { diff } from './vdom/diff';\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/render.js","import { h, Component } from 'preact';\nimport Item from './item';\n\nconst LIST_NUMBER = 10;\nconst RENDER_EPOCH = 2;\n\n/** make up data */\nconst NAMES = 'Shakira Lucas Norah Erick Gay Rachal Mable Orval Tracie Linh Rhoda Von Sarita Kaye Yanira Carter Hal Jamison Cari Kayleigh Bella Ehtel Latoyia Jenniffer Ryan Loralee Grazyna Roland Andy Billi'.split(' ');\n\nconst getNames = () => NAMES[Math.random()*.9999*NAMES.length|0];\n\nfunction createNamesAndUnread() {\n\tlet items = [];\n\tfor (let i=0; i<10; i++) {\n\t\titems.push({\n\t\t\tid: i,\n\t\t\tname: `${getNames()} ${getNames()}`,\n\t\t\tunread: Math.max(0, Math.random()*20|0-10)\n\t\t});\n\t}\n\treturn items;\n}\n\n\nexport default class App extends Component {\n\tstate = {\n\t\titems: createNamesAndUnread()\n\t};\n\n\texplainWebWorker = () => {\n\t\tthis.setState({\n\t\t\tmessage: `\n\t\t\t\tclick and additional layer comes out\n\t\t\t`.replace(/\\t+/g,'').trim()\n\t\t});\n\t};\n\n\tcloseMessage = () => {\n\t\tthis.setState({ message: null });\n\t};\n\n\t// increment unread count for a few randomly selected contacts\n\tnext = () => {\n\t\tlet items = this.state.items.slice();\n\t\tfor (let i=RENDER_EPOCH; i--; ) {\n\t\t\titems[Math.random()*items.length|0].unread++;\n\t\t}\n\t\tthis.setState({ items });\n\t};\n\n\t// start looping after mount\n\tcomponentDidMount() {\n\t\tsetTimeout(this.next, 100);\n\t}\n\n\t// track render start time before each render\n\tcomponentWillUpdate() {\n\t\tthis.started = Date.now();\n\t}\n\n\t// after every render, queue another render\n\tcomponentDidUpdate() {\n\t\tthis.elapsed = Date.now()-this.started;\n\t\tsetTimeout(this.next, 500);\n\t}\n\t// 对JSX的渲染\n\trender(props, { items, message }) {\n\t\treturn (\n\t\t\t<div class=\"app\">\n\t\t\t\t<div class=\"bar bar-header bar-dark\">\n\t\t\t\t\t<button class=\"button icon ion-information-circled\" onClick={this.explainWorkerDelay} />\n\t\t\t\t\t<h1 class=\"title\">\n\t\t\t\t\t\t实习作业\n\t\t\t\t\t</h1>\n\t\t\t\t\t<progress-spinner dark style=\"margin-left: 10px;\" />\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"content has-header\">\n\t\t\t\t\t<div class=\"list\">\n\t\t\t\t\t\t<a class=\"item item-avatar item-icon-right\" target=\"_blank\">\n\t\t\t\t\t\t\t<h2>running in a Web Worker</h2>\n\t\t\t\t\t\t\t<i class=\"icon ion-ios-arrow-forward\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class=\"item item-checkbox\">\n\t\t\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"use-vis\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\ttest checkbox\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"item item-divider\">{items.length} data_pass_example</div>\n\t\t\t\t\t\t{ items.map( item => (\n\t\t\t\t\t\t\t<Item {...item} />\n\t\t\t\t\t\t)) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class={'dialog' + (message?' open':'')} onClick={this.closeMessage}>\n\t\t\t\t\t<div class=\"inner\">\n\t\t\t\t\t\t{ message || '' }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/app.js","import { h, Component } from 'preact';\n\nexport default class Item extends Component {\n\ttoggle = e => {\n\t\tconsole.log('toggle', e);\n\t\tthis.setState({ selected: !this.state.selected });\n\t};\n\n\trender({ name, unread }, { selected }) {\n\t\tlet startDate = Date.now();\n\t\twhile (Date.now()-1 < startDate);\n\t\treturn (\n\t\t\t<div class={'item item-icon-left' + (unread?' item-icon-right':'')} onClick={this.toggle} style={selected ? 'background:#EEE;' : ''}>\n\t\t\t\t<i class={'icon ' + (selected ? 'ion-checkmark-circled' : 'ion-chatbubble')} />\n\t\t\t\t{ name }\n\t\t\t\t{ unread ? (\n\t\t\t\t\t<span class=\"badge badge-royal unread\">{unread}</span>\n\t\t\t\t) : null }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/item.js","import undom from 'undom';\n\n\n// Install a global Document using Undom, a minimal DOM Document implementation.\nlet document = global.document = undom();\nfor (let i in document.defaultView) if (document.defaultView.hasOwnProperty(i)) {\n\tglobal[i] = document.defaultView[i];\n}\n\n\n// Common browser globals\nlet url = '/';\n\nlet location = {\n\t_current: '/',\n\tget href() {\n\t\treturn url;\n\t},\n\tget pathname() {\n\t\treturn url.replace(/^(([a-z0-9]+\\:)?\\/\\/[^/]+|[?#].*$)/g, '');\n\t},\n\tget search() {\n\t\treturn (url.match(/\\?([^#]*)(#.*)?$/) || [])[1];\n\t},\n\tget hash() {\n\t\treturn (url.match(/#(.*)$/) || [])[1];\n\t}\n};\n\nlet history = {\n\tpushState(a, b, url) {\n\t\tsend({ type:'pushState', url });\n\t},\n\treplaceState(a, b, url) {\n\t\tsend({ type:'replaceState', url });\n\t}\n};\n\n\n// used to create UUIDs for Elements\nlet COUNTER = 0;\n\n/** MutationObserver properties to sanitize as (collections of) DOM Elements */\nconst TO_SANITIZE = ['addedNodes', 'removedNodes', 'nextSibling', 'previousSibling', 'target'];\n\n/** Properties to strip when serializing for postMessage */\nconst PROP_BLACKLIST = ['children', 'parentNode', '__handlers', '_component', '_componentConstructor' ];\n\n/** Mapping of global IDs to Elements */\nconst NODES = new Map();\n\n\n/** Returns the worker DOM Element corresponding to a serialized Element object.\n *\t@param {String|Object} node\t\tAn `id`, or an object with an `__id` property.\n *\t@returns {Element} element\n */\nfunction getNode(node) {\n\tlet id;\n\tif (node && typeof node==='object') id = node.__id;\n\tif (typeof node==='string') id = node;\n\tif (!id) return null;\n\tif (node.nodeName==='BODY') return document.body;\n\treturn NODES.get(id);\n}\n\n\n/** Receives Event messages and refires them in the worker's DOM. */\nfunction handleEvent(event) {\n\tlet target = getNode(event.target);\n\tif (target) {\n\t\tevent.target = target;\n\t\tevent.bubbles = true;\n\t\ttarget.dispatchEvent(event);\n\t}\n}\n\n\n/** Normalize messages (MutationRecords mainly)\n *  Replaces previously-sent Elements with their IDs.\n */\nfunction sanitize(obj) {\n\tif (!obj || typeof obj!=='object') return obj;\n\n\tif (Array.isArray(obj)) return obj.map(sanitize);\n\n\tif (obj instanceof document.defaultView.Node) {\n\t\tlet id = obj.__id;\n\t\tif (!id) {\n\t\t\tid = obj.__id = String(++COUNTER);\n\t\t}\n\t\tNODES.set(id, obj);\n\t}\n\n\tlet out = {};\n\tfor (let i in obj) {\n\t\tif (obj.hasOwnProperty(i) && PROP_BLACKLIST.indexOf(i)<0) {\n\t\t\tout[i] = obj[i];\n\t\t}\n\t}\n\tif (out.childNodes && out.childNodes.length) {\n\t\tout.childNodes = sanitize(out.childNodes);\n\t}\n\treturn out;\n}\n\n\n/** Observe DOM mutations and send MutationRecords to parent page. */\n(new MutationObserver( mutations => {\n\tfor (let i=mutations.length; i--; ) {\n\t\tlet mutation = mutations[i];\n\t\tfor (let j=TO_SANITIZE.length; j--; ) {\n\t\t\tlet prop = TO_SANITIZE[j];\n\t\t\tmutation[prop] = sanitize(mutation[prop]);\n\t\t}\n\t}\n\tsend({ type:'MutationRecord', mutations });\n})).observe(document, { subtree:true });\n\n\n/** Send messages to the page */\nfunction send(message) {\n\tpostMessage(JSON.parse(JSON.stringify(message)));\n}\n\n\n/** Receive messages from the page */\naddEventListener('message', ({ data }) => {\n\tswitch (data.type) {\n\t\tcase 'init':\n\t\t\turl = data.url;\n\t\t\tbreak;\n\t\tcase 'event':\n\t\t\thandleEvent(data.event);\n\t\t\tbreak;\n\t}\n});\n\n\n\n// WEBPACK FOOTER //\n// ./renderer/oneworker.js"],"sourceRoot":""}